# Теоретическая часть контрольной работы. Вариант 3
## Разработка на Python. Основной

### Вопрос 1
В ветке `feature/notifications` накопились 5 коммитов. Тимлид просит «подчистить историю», чтобы остался один осмысленный коммит перед созданием MR. Какой командой ты сольёшь коммиты, сохранив порядок изменений?

**Правильный ответ:** `git rebase -i HEAD~5` (принимаются варианты с конкретным числом или хешем)

**Проверяемый ОР:** Понимает. - Как структурировать процесс разработки с помощью Git: зачем нужны ветки, почему важна история коммитов и как правильно использовать rebase для упорядочивания истории изменений (*).

### Вопрос 2
После `git pull` ты видишь сообщение `CONFLICT (content): Merge conflict in settings.py`. Какие действия приведут к корректному завершению merge? Отметь все подходящие варианты.

А) Разрешить конфликты вручную и выполнить `git add settings.py`  
Б) Вызвать `git merge --abort`, если нужно откатить merge  
В) Сделать `git reset --hard origin/main` и продолжить merge  
Г) Закоммитить изменения после `git add`

**Правильные ответы:** А, Б, Г

**Проверяемый ОР:** Понимает. - Как структурировать процесс разработки с помощью Git: зачем нужны ветки, почему важна история коммитов и как правильно использовать rebase для упорядочивания истории изменений (*).

### Вопрос 3
Ты обнаружил в истории ветки секретный токен. Какой командой удалить последний коммит, не теряя остальные изменения в ветке, и заменить его новым коммитом без токена?

**Правильный ответ:** `git commit --amend` (принимаются вариации с предварительным удалением файла и последующим amend)

**Проверяемый ОР:** Знает. - Основные команды Git - инициализация, коммиты, создание веток, слияние, rebase(*) и базовые понятия работы с удалёнными репозиториями.

### Вопрос 4
Команда использует `git flow`. Какие преимущества даёт работа через pull/merge request по сравнению с прямыми пушами? Отметь все подходящие варианты.

А) Позволяет выполнить ревью до попадания кода в `main`  
Б) Даёт возможность запускать CI на ветке  
В) Ускоряет push, потому что меньше проверок  
Г) Автоматически подписывает коммиты PGP-ключом

**Правильные ответы:** А, Б

**Проверяемый ОР:** Понимает. - Роль GitLab как платформы для совместной работы, хранения и ревью кода.

### Вопрос 5
В GitLab нужно настроить репозиторий для работы по SSH с нового ноутбука. Какие шаги обязательны?

А) Сгенерировать пару ключей `ssh-keygen`  
Б) Добавить публичный ключ в профиль GitLab  
В) Прописать ключ в README  
Г) Проверить соединение командой `ssh -T git@gitlab.com`

**Правильные ответы:** А, Б, Г

**Проверяемый ОР:** Понимает. - Почему использование SSH/токенов обеспечивает безопасность при работе с удалёнными репозиториями.

### Вопрос 6
Коллега просит тебя создать ветку `hotfix/login` из текущей истории и сразу переключиться на неё. Напиши команду, которая это сделает.

**Правильный ответ:** `git switch -c hotfix/login` (принимаются `git checkout -b hotfix/login`)

**Проверяемый ОР:** Знает. - Основные команды Git - инициализация, коммиты, создание веток, слияние, rebase(*) и базовые понятия работы с удалёнными репозиториями.

### Вопрос 7
В репозитории появился файл `debug.log`, и он попал в историю. Как удалить его из индекса и добавить правило, чтобы он больше не попадал под версионный контроль?

А) `git rm --cached debug.log`, добавить `debug.log` в `.gitignore`  
Б) `rm debug.log`, перезапустить Git  
В) `git stash`, затем `git clean`  
Г) `git reset --hard HEAD~1`

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Как структурировать процесс разработки с помощью Git: зачем нужны ветки, почему важна история коммитов и как правильно использовать rebase для упорядочивания истории изменений (*).

### Вопрос 8
Merge Request заблокировали, потому что в истории есть лишние коммиты из `main`. Как быстро сравнить свою ветку с `origin/main`, чтобы понять, какие коммиты мешают?

**Правильный ответ:** `git log origin/main..HEAD` (принимаются варианты с `--oneline`, `git log --graph`)

**Проверяемый ОР:** Знает. - Основные команды Git - инициализация, коммиты, создание веток, слияние, rebase(*) и базовые понятия работы с удалёнными репозиториями.

### Вопрос 9
Для чего в GitLab используют шаблон Merge Request с чек-листом?

А) Чтобы ускорить approve  
Б) Чтобы напомнить автору про обязательные шаги вроде тестов и обновления документации  
В) Чтобы заменить ревью  
Г) Чтобы автоматически закрыть issue без ревью

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Роль GitLab как платформы для совместной работы, хранения и ревью кода.

### Вопрос 10
Фронтенд отправляет `POST /api/orders`, сервер отвечает `201 Created` и заголовком `Location`. Что должен сделать клиент?

А) Повторить запрос  
Б) Извлечь URL из `Location`, по которому доступен созданный ресурс  
В) Сразу удалить заказ  
Г) Игнорировать заголовок

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.

### Вопрос 11
Какой HTTP-метод и URI подойдут для получения списка задач в REST API?

А) GET `/api/tasks`  
Б) POST `/api/tasks`  
В) PUT `/api/tasks/{id}`  
Г) DELETE `/api/tasks`

**Правильный ответ:** А

**Проверяемый ОР:** Знает. - Основные методы HTTP (GET, POST, PUT, DELETE) и значение статус-кодов в коммуникации клиент-сервер.

### Вопрос 12
Интеграция с мобильным приложением требует строгого соответствия REST. Какой набор правил поможет держать контракт в порядке? Отметь все подходящие варианты.

А) Единый формат URL и версионирование (`/api/v1`)  
Б) Осмысленные коды ответа  
В) Чётко описанные тела запросов и ответов  
Г) Отказ от документации

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Понимает. - Как REST API стандартизирует структуру URL, методы HTTP, заголовки, тело запроса и ответа, облегчая интеграцию различных систем.

### Вопрос 13
Ты отправляешь `GET /api/profile?fields=name,email`. Какие элементы относятся к запросу?

А) Метод `GET`  
Б) Путь `/api/profile`  
В) Query-параметр `fields`  
Г) Код ответа `200 OK`

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Знает. - Различия между запросом к серверу и ответом, а также структуру типичного REST-запроса и ответа.

### Вопрос 14
На стенде тестирования Postman показывает `500 Internal Server Error`. Какие гипотезы проверишь первыми? Отметь все подходящие варианты.

А) Логи сервера на наличие исключений  
Б) Корректность тела запроса и заголовков  
В) Наличие временных ограничений/таймаутов  
Г) Попытаться отправить запрос через `DELETE`

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.

### Вопрос 15
Скрипт выполняет `requests.get(url, params={"q": "python"}, timeout=2)`, сервер отвечает `404`. Как обработать ситуацию, чтобы вывести понятное сообщение пользователю?

**Правильный ответ:**
```python
response = requests.get(url, params={"q": "python"}, timeout=2)
if response.status_code == 404:
    print("Запись не найдена")
    exit(1)
```
(принимаются варианты с проверкой статуса и выводом сообщения)

**Проверяемый ОР:** Понимает. - Логику обработки ошибок при запросах и как корректная обработка может предотвратить сбои в работе приложения.

### Вопрос 16
Ты хочешь отправить файл и данные формы одним запросом через `requests`. Какой способ подходит?

А) `requests.post(url, files={"report": open("report.csv", "rb")}, data={"email": user})`  
Б) `requests.post(url, json={"report": "..."})`  
В) `requests.get(url, params={"report": "..."})`  
Г) `requests.post(url, timeout=5)`

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Как правильно формировать GET и POST запросы, передавать параметры и обрабатывать ошибки.

### Вопрос 17
API вернул JSON:
```json
{"meta": {"total": 2}, "items": [{"id": 10}, {"id": 11}]}
```
Напиши выражение на Python, чтобы получить `11` из объекта `data`.

**Правильный ответ:** `data["items"][1]["id"]`

**Проверяемый ОР:** Понимает. - Почему JSON является предпочтительным форматом обмена данными в веб-разработке, и как вложенные структуры JSON отображаются в Python.

### Вопрос 18
Какие преимущества даёт использование `response.raise_for_status()` в библиотеке `requests`? Отметь все подходящие варианты.

А) Бросает исключение для неуспешных статусов  
Б) Помогает централизовать обработку ошибок  
В) Автоматически парсит JSON  
Г) Повышает безопасность токена

**Правильные ответы:** А, Б

**Проверяемый ОР:** Понимает. - Логику обработки ошибок при запросах и как корректная обработка может предотвратить сбои в работе приложения.

### Вопрос 19
Ты сериализуешь данные в JSON перед отправкой на сервер. Как избежать ошибки при передаче объектов `Decimal`?

А) Преобразовать `Decimal` в строку или float  
Б) Использовать `json.dumps(data, default=str)`  
В) Игнорировать поле  
Г) Передать `Decimal` напрямую, JSON поддерживает его по умолчанию

**Правильные ответы:** А, Б

**Проверяемый ОР:** Знает. - Формат JSON: парсинг, сериализация, вложенные структуры.

### Вопрос 20
Клиент отправляет запросы к API и хочет повторить их при временных ошибках. Как реализовать стратегию повторов в `requests`? Отметь все подходящие варианты.

А) Использовать `requests.Session` с `Retry` из `urllib3`  
Б) Написать свою обёртку с циклом и ограничением попыток  
В) Всегда повторять запрос бесконечно  
Г) Полностью игнорировать ошибки

**Правильные ответы:** А, Б

**Проверяемый ОР:** Понимает. - Логику обработки ошибок при запросах и как корректная обработка может предотвратить сбои в работе приложения.

### Вопрос 21
Проект упёрся в проблему: модуль `analytics` импортирует `tasks`, а `tasks` импортирует `analytics`. Что произойдёт при запуске и как это исправить?

А) Возникнет циклический импорт; нужно вынести общую логику в отдельный модуль  
Б) Всё будет работать, Python предотвращает цикл  
В) Модули загрузятся дважды  
Г) Поможет добавление `__all__`

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Как возникновение циклических импортов влияет на выполнение программы и как их избежать посредством правильного проектирования.

### Вопрос 22
Команда делит проект на пакеты `core`, `api`, `infra`. Какие плюсы даёт такая структура? Отметь все подходящие варианты.

А) Улучшает читаемость и навигацию  
Б) Позволяет переиспользовать модули  
В) Уменьшает риск конфликтов имён  
Г) Ускоряет Python-интерпретатор

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Знает. - Что такое модульность и как разделение кода на логические блоки способствует его поддержке и тестированию.

### Вопрос 23
В проекте появился модуль `email.py`, и теперь импорт стандартного модуля `email` перестал работать. Как решить конфликт имён?

А) Переименовать свой модуль, чтобы не пересекаться со стандартной библиотекой  
Б) Удалить стандартный модуль  
В) Попробовать импортировать через `importlib`  
Г) Перенести файл в другую папку

**Правильный ответ:** А

**Проверяемый ОР:** Знает. - Проблемы, связанные с конфликтами имён при импорте и циклическими зависимостями между модулями.

### Вопрос 24
На созвоне с командой бэкенда обсуждают, почему стоит разделять бизнес-логику и слой API. Назови три преимущества явного разделения бизнес-логики и кода API. Напиши через запятую.

**Правильный ответ:** «проще тестировать, легче переиспользовать, удобнее поддерживать» (принимаются близкие формулировки: «отдельные слои, меньше зависимостей, понятная архитектура»)

**Проверяемый ОР:** Понимает. - Роль ясного разделения логики приложения для обеспечения масштабируемости и облегчения поддержки проекта.

### Вопрос 25
Ты создаёшь нового бота в BotFather. Какие шаги обязательно нужно выполнить?

А) Отправить `/newbot`  
Б) Указать имя и username  
В) Получить токен  
Г) Добавить пользователей в белый список

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Знает. - Как создать Telegram-бота через BotFather и получить токен для работы.

### Вопрос 26
После получения токена ты создаёшь бота на `python-telegram-bot`. Что нужно сделать, чтобы бот начал обрабатывать обновления?

А) Создать `Application` и вызвать `run_polling()`  
Б) Настроить webhook без серверной части  
В) Включить бота в настройках Telegram-клиента  
Г) Отправить токен в чат

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Как Telegram Bot API обеспечивает связь между пользователем и сервером, и почему важно правильно настроить обработку команд.

### Вопрос 27
Бот отвечает на команды, но не реагирует на текстовые сообщения. Что проверишь первым?

А) Зарегистрирован ли `MessageHandler` с фильтром текста  
Б) Не падает ли бот из-за исключения  
В) Корректно ли указан токен  
Г) Включены ли уведомления у пользователя

**Правильные ответы:** А, Б

**Проверяемый ОР:** Понимает. - Как Telegram Bot API обеспечивает связь между пользователем и сервером, и почему важно правильно настроить обработку команд.

### Вопрос 28
Нужно отделить логику бота, работу с внешним API и хранилище. Как распределить модули?

А) `bot/handlers.py` — команды, `services/api_client.py` — интеграции, `repositories/storage.py` — работа с данными  
Б) Всё в одном файле `bot.py`, меньше импортов  
В) Завести пакет `commands/` и складывать туда всё  
Г) Всё разместить в `__init__.py`

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Роль библиотек, упрощающих интеграцию с Telegram, и как они структурируют работу бота.

### Вопрос 29
Ты хочешь отправить пользователю варианты ответов в виде кнопок под сообщением. Что выберешь?

А) InlineKeyboardMarkup  
Б) ReplyKeyboardMarkup  
В) Обычное текстовое сообщение  
Г) Изображение с кнопками

**Правильные ответы:** А, Б

**Проверяемый ОР:** Знает. - Что такое inline-кнопки и клавиатуры в Telegram-ботах и для чего они используются.

### Вопрос 30
Пользователь нажал inline-кнопку, и нужно понять, какой шаг сценария он проходит. Как извлечь состояние?

**Правильный ответ:** Использовать `update.callback_query.data` (принимаются варианты с хранением состояния по `chat_id`)

**Проверяемый ОР:** Понимает. - Логику обработки callback-запросов для реализации многошаговых сценариев диалога, в том числе управление состоянием бота.

### Вопрос 31
Ты строишь сценарий оплаты: выбрать товар → подтвердить → оплатить. Как хранить прогресс пользователя?

А) Держать словарь `state[user_id] = "CONFIRM"`  
Б) Сбрасывать диалог после каждого шага  
В) Использовать глобальную строку без ключей  
Г) Записать выбор в README

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Логику обработки callback-запросов для реализации многошаговых сценариев диалога, в том числе управление состоянием бота.

### Вопрос 32
Какие преимущества дают inline-кнопки по сравнению с текстовыми командами? Отметь все подходящие варианты.

А) Ускоряют взаимодействие  
Б) Снижают риск опечаток  
В) Позволяют передавать структурированные данные в `callback_data`  
Г) Заменяют авторизацию

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Понимает. - Как интерактивные элементы (inline-кнопки, клавиатуры) улучшают пользовательский опыт, делая взаимодействие с ботом более динамичным.

### Вопрос 33
API бота должен возвращать понятное сообщение об ошибке, если оплата не прошла. Какие ключи добавишь в JSON? Отметь все подходящие варианты.

А) `code`  
Б) `message`  
В) `details`  
Г) `random`

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.

### Вопрос 34
Опиши три причины, почему стоит документировать REST API (например, Swagger). Напиши через запятую.

**Правильный ответ:** «проще подключать интеграции, быстрее находить ошибки, легче поддерживать контракт» (принимаются эквивалентные формулировки)

**Проверяемый ОР:** Понимает. - Как REST API стандартизирует структуру URL, методы HTTP, заголовки, тело запроса и ответа, облегчая интеграцию различных систем.

