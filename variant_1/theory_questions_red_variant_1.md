# Теоретическая часть контрольной работы. Вариант 1
## Разработка на Python. Углублённый

### Вопрос 1
Что произойдёт, если фронтенд-приложение отправит HTTP-запрос к серверу, а сервер временно недоступен?

А) Браузер начнёт бесконечно повторять запрос  
Б) Запрос завершится ошибкой, и фронтенду придётся её обработать  
В) Фронтенд сам подставит данные из кэша  
Г) Приложение продолжит работу без ответа сервера

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Как клиент и сервер взаимодействуют через HTTP-запросы и ответы.

### Вопрос 2
В чём отличие фронтенда и бэкенда в клиент-серверной архитектуре? Отметь все подходящие варианты.

А) Фронтенд занимается интерфейсом, бэкенд — данными и логикой  
Б) Фронтенд живёт в браузере, бэкенд — на сервере  
В) Фронтенд и бэкенд — одно и то же  
Г) Фронтенд может работать отдельно, а бэкенд без него — нет

**Правильные ответы:** А, Б

**Проверяемый ОР:** Знает. - Различие между фронтендом и бэкендом, их задачи и роли.

### Вопрос 3
Почему важно разделение фронтенда и бэкенда в современных веб-приложениях?

А) Разделение даёт независимые технологии, масштаб и защиту логики  
Б) Разделение не нужно, всё стоит держать в одном модуле  
В) Фронтенд и бэкенд всегда пишутся на одном языке  
Г) Разделение только тормозит команду

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Почему важно разделение фронтенда и бэкенда в современных приложениях.

### Вопрос 4
Какие основные компоненты включает HTTP-запрос? Отметь все подходящие варианты.

А) HTTP-метод  
Б) URL или путь  
В) Заголовки  
Г) Тело запроса при необходимости

**Правильные ответы:** А, Б, В, Г

**Проверяемый ОР:** Знает. - Основные компоненты HTTP-запросов и ответов (методы, заголовки, тело запроса, коды ответов).

### Вопрос 5
Какую роль выполняет API в клиент-серверном взаимодействии?

А) API задаёт контракт запросов и ответов между клиентом и сервером  
Б) API — это база данных  
В) API существует только на стороне клиента  
Г) API не нужен для обмена данными

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Роль API в обмене данными между клиентом и сервером.

### Вопрос 6
Назови три базовых HTTP-метода, которые применяются для работы с данными в REST API.

**Правильный ответ:** `GET, POST, PUT` (принимается также `GET, POST, DELETE`)

**Проверяемый ОР:** Знает. - Основные компоненты HTTP-запросов и ответов (методы, заголовки, тело запроса, коды ответов).

### Вопрос 7
На созвоне между фронтенд- и бэкенд-командами обсуждается интеграция: веб-клиент работает в браузере, сервер — в отдельном сервисе, а API связывает их. Что нужно согласовать, чтобы связка работала надёжно? Отметь все подходящие варианты.

А) Ясный контракт: описанные запросы и ответы  
Б) Обойтись одной общей базой без REST  
В) Поддерживать версии или совместимость API  
Г) Договориться о едином формате ошибок

**Правильные ответы:** А, В, Г

**Проверяемый ОР:** Знает. - Основную роль API в клиент-серверном взаимодействии.

### Вопрос 8
Ты готовишь новый сервис на FastAPI. Как установишь зависимости перед первым запуском? Напиши команду.

**Правильный ответ:** `pip install fastapi uvicorn` (принимается `pip install fastapi` и установка `uvicorn` отдельно)

**Проверяемый ОР:** Знает. - Как устанавливать и запускать FastAPI.

### Вопрос 9
В код-ревью ты видишь: 
```python
from fastapi import FastAPI

app = FastAPI()

@app.get("/users")
def list_users():
    return [...]
```
Здесь всё ок. А что произойдёт, если декоратор `@app.get("/users")` останется без функции?

А) FastAPI сам создаст обработчик  
Б) Приложение упадёт при запуске, потому что функции нет  
В) Эндпоинт начнёт возвращать пустой список  
Г) FastAPI подставит заглушку автоматически

**Правильный ответ:** Б

**Проверяемый ОР:** Знает. - Основные концепции маршрутизации (GET, POST).

### Вопрос 10
Ты пишешь эндпоинт и хочешь принимать фильтр по категории: `/items?category=books`. Как объявишь обработчик в FastAPI, чтобы параметр был query-параметром? Отметь корректные варианты.

А) `def list_items(category: str | None = None)`  
Б) `def list_items(category: str = Query(None))`  
В) `def list_items(category: str = Path(...))`  
Г) `def list_items(category: Request)`

**Правильные ответы:** А, Б

**Проверяемый ОР:** Понимает. - Разницу между query и path parameters и их назначение.

### Вопрос 11
У тебя есть эндпоинт `GET /users/{user_id}`, и параметр объявлен как `user_id: int`. Какой статус-код вернёт FastAPI, если клиент запросит `/users/abc`? Напиши число.

**Правильный ответ:** `422`

**Проверяемый ОР:** Понимает. - Как обрабатывать запросы и возвращать ответы.

### Вопрос 12
На демо ты показываешь автодокументирование FastAPI. Какой URL откроешь, чтобы увидеть Swagger UI у приложения без дополнительной настройки? Напиши путь.

**Правильный ответ:** `/docs`

**Проверяемый ОР:** Знает. - Как FastAPI генерирует документацию API (Swagger, Redoc).

### Вопрос 13
Сервис вырос, и ты рефакторишь проект на FastAPI. Какие шаги помогают масштабировать структуру? Отметь все подходящие варианты.

А) Вынести логические группы эндпоинтов в отдельные модули и подключить их через `APIRouter`  
Б) Хранить все функции в одном файле `main.py`, чтобы было проще найти  
В) Разделить бизнес-логику, модели данных и вспомогательные функции по отдельным пакетам  
Г) Назначить для каждого HTTP-метода свой модуль  
Д) Собирать все роуты в `__init__.py` без структуры

**Правильные ответы:** А, В

**Проверяемый ОР:** Понимает. - Как организовать структуру проекта на FastAPI.

### Вопрос 14
Ты проектируешь CRUD API для ресурса `orders`. В каких сочетаниях операция и HTTP-метод совпадают с REST-практиками? Отметь все подходящие соответствия.

А) Получение списка заказов → GET  
Б) Создание нового заказа → POST  
В) Частичное обновление полей заказа → PATCH  
Г) Удаление заказа → DELETE  
Д) Полное обновление заказа целиком → PUT  
Е) Получение заказа по ID → POST

**Правильные ответы:** А, Б, В, Г, Д

**Проверяемый ОР:** Знает. - Принципы реализации CRUD-операций в рамках REST API.

### Вопрос 15
Бэкенд ожидает JSON, но фронтенд отправил `Content-Type: application/x-www-form-urlencoded`. Что вернёт FastAPI, если эндпоинт читает `request.json()`?

А) Автоматически преобразует форму в JSON  
Б) Вернёт 422/400, потому что формат тела не совпадает  
В) Проигнорирует данные и вернёт пустой ответ  
Г) Сменит метод на GET

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Как обрабатывать входящие данные в FastAPI.

### Вопрос 16
На митинге обсуждают, как избежать неожиданных падений фронтенда при работе с новым API, которое принимает и отдаёт JSON. Какие шаги обязательны, чтобы клиенты корректно обработали ответы? Отметь все подходящие варианты.

А) Ставить `Content-Type: application/json`  
Б) Держать единый формат тела, например `{ "data": ... }`  
В) Отправлять HTML-ошибки без статуса  
Г) Документировать контракт в Swagger/OpenAPI  
Д) Возвращать ошибки с описанием полей

**Правильные ответы:** А, Б, Г, Д

**Проверяемый ОР:** Понимает. - Как реализовать API, взаимодействующее с фронтендом.

### Вопрос 17
Фронтенд отправляет POST `/tasks` с JSON, но получает 500. Логи показывают ошибку сериализации на стороне бэкенда. Какие шаги помогут подтвердить, что проблема в валидации входящих данных? Отметь все подходящие варианты.

А) Повторять запросы до успеха  
Б) Добавить проверку схем Pydantic 
В) Логировать тело запроса и выделять проблемные поля  
Г) Сменить метод на GET  
Д) Перейти на XML вместо JSON
Е) Валидировать JSON перед сохранением  

**Правильные ответы:** Б, В, Е

**Проверяемый ОР:** Понимает. - Как реализовать API, взаимодействующее с фронтендом.

### Вопрос 18
Ты проектируешь эндпоинт `PUT /profile/{id}`. Какие коды ответа подходят для успешного обновления существующей записи? Отметь все подходящие варианты.

А) 200 OK  
Б) 201 Created  
В) 204 No Content  
Г) 400 Bad Request

**Правильные ответы:** А, В

**Проверяемый ОР:** Знает. - Принципы валидации данных в API.

### Вопрос 19
На проекте нужно выдавать HTML-страницу с профилем пользователя. Ты подключил Jinja2. Каким образом передашь данные в шаблон? Отметь корректные шаги.

А) Создать `templates.TemplateResponse("profile.html", {"request": request, "user": user})`  
Б) Передать словарь в параметр `context`  
В) Использовать глобальные переменные вместо контекста  
Г) Оставить шаблон пустым — данные подставятся сами

**Правильные ответы:** А, Б

**Проверяемый ОР:** Знает. - Основы работы с Jinja2 в FastAPI: передача данных, использование циклов и условий.

### Вопрос 20
Ты монтируешь статические файлы в FastAPI. Какой код выберешь?

А) `app.mount("/static", StaticFiles(directory="static"), name="static")`  
Б) `app.static("/static", "static")`  
В) `app.include_router("/static")`  
Г) `app.serve_static("static")`

**Правильный ответ:** А

**Проверяемый ОР:** Знает. - Различия между статическими файлами и шаблонами, способы их подключения в FastAPI.

### Вопрос 21
У тебя есть шаблон `index.html` с блоком `{{ title }}`. Что увидишь в браузере, если не передашь `title` в контекст?

А) FastAPI выбросит исключение при рендеринге  
Б) В месте подстановки будет пустая строка  
В) В шаблоне отобразится текст `{{ title }}`  
Г) Шаблон автоматически подставит значение по умолчанию

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Как передавать данные в шаблоны через Jinja2.

### Вопрос 22
Ты оформляешь форму обратной связи. Пользователь отправил пустое поле `email`, а сервер не проверил данные и записал пустую строку в базу. Чем это грозит?

А) Ничем — пустая строка валидна  
Б) Потерей данных и ошибками при дальнейшей обработке заказов  
В) Автоматическим восстановлением значения через FastAPI  
Г) Тем, что браузер перезагрузит страницу

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Как корректная обработка данных из форм улучшает взаимодействие пользователя с приложением и повышает безопасность.

### Вопрос 23
Ты реализуешь эндпоинт приёма формы:
```python
@app.post("/feedback")
async def submit_feedback(name: str = Form(...), rating: int = Form(...)):
    ...
```
Какие типы данных умеют передаваться через HTML-формы по умолчанию? Отметь все подходящие варианты.

А) Текст  
Б) Числа  
В) Файлы
Г) JSON-объекты без сериализации

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Знает. - Какие типы данных могут передаваться через формы.

### Вопрос 24
На стенде QA форма отправляет POST-запрос, но пользователь видит «500 Internal Server Error». В логах — исключение при конвертации строки в число. Какие шаги помогут устранить проблему и улучшить опыт пользователя?

А) Спрячешь поле на фронтенде  
Б) Добавишь валидацию
В) Заменишь POST на GET  
Г) Заглушишь ошибку и вернёшь 200
Е) Вернёшь понятное сообщение об ошибке  

**Правильный ответ:** Б, Е

**Проверяемый ОР:** Понимает. - Почему важно проводить валидацию и фильтрацию пользовательского ввода для защиты серверной логики и данных.

### Вопрос 25
Перед релизом обсуждаете с фронтендом договорённости по контракту API. Какие шаги помогут сделать интеграцию надёжной? Отметь все подходящие варианты.

А) Возвращать единый формат, например `{ "data": ..., "error": ... }`  
Б) Всегда отвечать кодом 200, даже при ошибке  
В) Поддерживать документацию и синхронизировать изменения  
Г) Прогонять тестовые сценарии по CRUD  

**Правильные ответы:** А, В, Г

**Проверяемый ОР:** Понимает. - Как организовать эндпоинты для CRUD-операций и поддерживать согласованность API с фронтендом.

### Вопрос 26
Ты проверяешь обработку ошибок. Какой статус-код отправишь, если клиент указал несуществующий `order_id`, и ресурс не найден?

А) 200  
Б) 400  
В) 404  
Г) 422

**Правильный ответ:** В

**Проверяемый ОР:** Знает. - Какие бывают типы ошибок в API (400, 404, 500 и др.).

### Вопрос 27
На общем ревью контрактов фронтенд просит единый формат ошибок. Назови три ключевых поля, которые стоит включить в ответ об ошибке. Напиши их через запятую.

**Правильный ответ:** `code, message, details` (принимаются синонимы вроде `status`, `error`, `field_details`)

**Проверяемый ОР:** Понимает. - Как клиент и сервер взаимодействуют через HTTP-запросы и ответы.

### Вопрос 28
Мониторинг показывает 500 из-за временной недоступности базы. Как бэкенд-команда должна реагировать, чтобы стабилизировать API и дать фронтенду понятную обратную связь? Отметь все подходящие варианты.

А) Добавить `exception_handler`, который вернёт понятный JSON и залогирует ошибку  
Б) Оставить 500 и возвращать пустое тело  
В) Вернуть пользователю 503 с сообщением о временной недоступности  
Г) Спрятать ошибку и вернуть 200  
Д) Согласовать с фронтом, как показывать пользователю информацию об ошибке

**Правильные ответы:** А, В, Д

**Проверяемый ОР:** Понимает. - Как кастомные обработчики ошибок помогают улучшить стабильность API.

### Вопрос 29
Ты тестируешь фронтенд через Postman и получаешь ответ:
```json
{
  "detail": [
    {
      "loc": ["body", "price"],
      "msg": "value is not a valid integer"
    }
  ]
}
```
Что означает такой ответ?

А) Ошибка клиента
Б) Ошибка сервера FastAPI  
В) Ответ сгенерировал промежуточный прокси  
Г) Это HTML-страница

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Как на клиенте различать ошибки сервера (500) и ошибки клиента (400).

### Вопрос 30
Ты внедрил обработчик:
```python
@app.exception_handler(HTTPException)
async def http_exception_handler(request, exc):
    return JSONResponse(
        status_code=exc.status_code,
        content={"error": exc.detail, "request_id": request.state.request_id},
    )
```
Зачем это делать?

А) Чтобы централизованно форматировать ошибки 
Б) Чтобы скрыть все ошибки  
В) Чтобы логировать только успешные ответы  
Г) Чтобы отключить стандартные ответы FastAPI

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Как кастомные обработчики ошибок помогают улучшить стабильность API.

### Вопрос 31
Фронтенд обращается к `/api/notifications`, а API возвращает 307 Redirect на `/auth/login`. Что это значит для сценария?

А) Клиент обращается к неверному домену  
Б) Сервер просит авторизоваться  
В) Сервер упал  
Г) Прокси изменил порт

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Как клиент и сервер взаимодействуют через HTTP-запросы и ответы.

### Вопрос 32
Ты проводишь ревью API и видишь, что фронтенд не обрабатывает 422. Что посоветуешь команде фронта?

А) Игнорировать статус 422  
Б) Всегда отправлять пользователя на главную  
В) Показать ошибки валидации и дать исправить данные  
Г) Изменить метод на PUT

**Правильный ответ:** В

**Проверяемый ОР:** Понимает. - Как корректно обрабатывать ошибки в API.

### Вопрос 33
Во время ревью нашли эндпоинт, который при любой ошибке возвращает 200 с сообщением «error». Какие изменения нужно внести, чтобы клиенты корректно реагировали на разные сценарии? Отметь все подходящие варианты.

А) Возвращать 4xx для ошибок клиента и 5xx для ошибок сервера  
Б) Указывать в ответе понятное сообщение об ошибке  
В) Сохранять код 200, чтобы фронтенд не показывал ошибки  
Г) Документировать, какие статусы может вернуть эндпоинт

**Правильные ответы:** А, Б, Г

**Проверяемый ОР:** Понимает. - Как корректно обрабатывать ошибки в API.

### Вопрос 34
В отладке ты увидел, что фронтенд ожидает JSON вида `{ "items": [...] }`, а сервер отвечает `{ "data": [...] }`. Чем грозит несоответствие контракта?

А) Фронтенд покажет ошибку  
Б) Браузер автоматически переименует поле  
В) Сервер перепишет ответ под клиента  
Г) Ошибка исчезнет при повторном запросе

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Роль API в обмене данными между клиентом и сервером.

