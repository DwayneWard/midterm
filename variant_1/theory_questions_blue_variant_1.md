# Теоретическая часть контрольной работы. Вариант 1
## Разработка на Python. Основной

### Вопрос 1
Команда ведёт разработку фичи в ветке `feature/auth`, пока на ветке `main` уже появились два новых коммита с исправлениями. Разработчик синхронизирует ветку командой `git fetch`, остаётся в `feature/auth` и выполняет `git rebase origin/main`. Как Git изменит историю ветки `feature/auth` после выполнения rebase?

А) Удалит коммиты ветки `feature/auth`, поскольку их нет в `main`  
Б) Перепишет коммиты `feature/auth`, добавив их поверх актуальной истории `main` и сделает историю линейной  
В) Создаст merge-коммит между `main` и `feature/auth`  
Г) Прервёт операцию с ошибкой, потому что rebase запрещён при расхождении веток

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Как структурировать процесс разработки с помощью Git: зачем нужны ветки, почему важна история коммитов и как правильно использовать rebase для упорядочивания истории изменений (*).

### Вопрос 2
Разработчик пытается выполнить `git push origin feature/ui` и получает сообщение `Permission denied (publickey). fatal: Could not read from remote repository.`. Он подключается к репозиторию GitLab по SSH. Какие действия нужно выполнить? Отметь все подходящие варианты.

А) Убедиться, что URL удалённого репозитория указан верно  
Б) Добавить публичный SSH-ключ в профиль GitLab или зарегистрировать его в локальной системе  
В) Выпустить новый токен доступа и использовать его вместо SSH  
Г) Проверить, что ключ загружен в `ssh-agent` или менеджер ключей ОС

**Правильные ответы:** Б, Г

**Проверяемый ОР:** Знает. - Процесс работы в GitLab, MR, назначения SSH-ключей/токенов для доступа к проекту.

### Вопрос 3
Команда из пяти разработчиков ведёт параллельную работу над несколькими фичами, а тимлид хочет сохранить прозрачную историю `main` и упростить ревью. Какой рабочий процесс с Git поможет достичь этой цели?

А) Коммитить напрямую в `main`, чтобы избежать конфликтов  
Б) Работать через отдельные ветки с Merge Request и ревью перед слиянием  
В) Запретить merge и использовать только rebase  
Г) Работать локально без публикации в удалённый репозиторий

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Как структурировать процесс разработки с помощью Git: зачем нужны ветки, почему важна история коммитов и как правильно использовать rebase для упорядочивания истории изменений (*).

### Вопрос 4
В репозитории появились нежелательные файлы `__pycache__/utils.cpython-310.pyc`. Разработчик добавил правило `*.pyc` в `.gitignore`, но `git status` всё ещё показывает эти файлы как отслеживаемые. Почему `.pyc` файлы продолжают попадать под контроль версий?

А) Они были закоммичены до добавления правила в `.gitignore`  
Б) `.gitignore` не поддерживает маски по расширению  
В) Правило работает только если `.gitignore` расположен в папке `__pycache__`  
Г) `git status` игнорирует изменения правил `.gitignore`

**Правильный ответ:** А

**Проверяемый ОР:** Знает. - Основные команды Git - инициализация, коммиты, создание веток, слияние, rebase(*) и базовые понятия работы с удалёнными репозиториями.

### Вопрос 5
Почему использование SSH-ключей безопаснее, чем ввод логина и пароля при каждом `git push` в GitLab? Отметь все подходящие варианты.

А) Приватный ключ остаётся на машине разработчика, а проверка выполняется через асимметричное шифрование  
Б) Ключ можно защитить passphrase, чтобы украденный файл нельзя было использовать без дополнительного пароля  
В) SSH-ключи автоматически ускоряют `git push` даже на перегруженной сети  
Г) Ключи короче паролей, их проще хранить  
Д) После подключения по SSH GitLab запрещает использовать пароли для любых операций

**Правильные ответы:** А, Б

**Проверяемый ОР:** Понимает. - Почему использование SSH/токенов обеспечивает безопасность при работе с удалёнными репозиториями.

### Вопрос 6
**Вопрос:** Какая команда Git создаёт новую ветку и сразу переключает рабочее дерево на неё? Напиши одну возможную команду.

**Правильный ответ:** `git checkout -b feature/payments` (принимаются варианты `git switch -c feature/payments`, `git branch feature/payments && git checkout feature/payments`)

**Проверяемый ОР:** Знает. - Основные команды Git - инициализация, коммиты, создание веток, слияние, rebase(*) и базовые понятия работы с удалёнными репозиториями.

### Вопрос 7
Политика репозитория требует обновлять ветку фичи перед Merge Request. Ревьюер просит выполнить `git rebase origin/main`, а не `git merge origin/main`. Какое преимущество даёт rebase в этой ситуации?

А) Запускает CI автоматически без дополнительных настроек  
Б) Строит линейную историю, повторно воспроизводя коммиты поверх актуального `main`, что упрощает ревью  
В) Гарантирует отсутствие конфликтов при слиянии  
Г) Создаёт резервную копию ветки на удалённом сервере

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Как структурировать процесс разработки с помощью Git: зачем нужны ветки, почему важна история коммитов и как правильно использовать rebase для упорядочивания истории изменений (*).

### Вопрос 8
Разработчик создал новый проект в GitLab и хочет работать с ним по SSH с личного ноутбука. Что нужно сделать, чтобы безопасно настроить доступ? Отметь все подходящие варианты.

А) Сгенерировать пару ключей командой `ssh-keygen`  
Б) Добавить публичный ключ в профиль GitLab  
В) Сохранить логин и пароль в файл `.netrc` для автоматического входа  
Г) Открыть порт 22 на роутере и пробросить его в интернет  
Д) Проверить соединение командой `ssh -T git@gitlab.com`

**Правильные ответы:** А, Б, Д

**Проверяемый ОР:** Понимает. - Почему использование SSH/токенов обеспечивает безопасность при работе с удалёнными репозиториями.

### Вопрос 9
Клиентская форма отправляет запрос `POST /api/users/123` для обновления email пользователя, а сервер позиционируется как REST. Какое поведение наиболее корректно ожидать?

А) POST подходит для любой операции, сервер просто выполнит обновление записи  
Б) Сервер может ответить, но это нарушает REST: обновление следует выполнять через PUT или PATCH  
В) Сервер обязательно вернёт 405 Method Not Allowed для такого запроса  
Г) Сервер автоматически преобразует запрос в PUT перед обработкой

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Почему выбор конкретного HTTP-метода соответствует определённой операции (например, GET для получения данных, POST для создания новых записей).

### Вопрос 10
Во время пикового трафика API отвечает кодом `503 Service Unavailable` на запросы `GET /api/orders`. Напиши класс HTTP-статусов, к которому относится код 503. Введи ответ в формате `Nxx`.

**Правильный ответ:** `5xx`

**Проверяемый ОР:** Знает. - Основные методы HTTP (GET, POST, PUT, DELETE) и значение статус-кодов в коммуникации клиент-сервер.

### Вопрос 11
Какой HTTP-метод и шаблон URL соответствуют REST, если нужно получить данные о книге с идентификатором `42`?

А) POST `/api/books?action=get&id=42`  
Б) GET `/api/books/42`  
В) PUT `/api/books/42`  
Г) DELETE `/api/books/42/details`

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Почему выбор конкретного HTTP-метода соответствует определённой операции (например, GET для получения данных, POST для создания новых записей).

### Вопрос 12
Какие HTTP-методы относятся к идемпотентным согласно принципам REST? Отметь все подходящие варианты.

А) GET  
Б) POST  
В) PUT  
Г) DELETE

**Правильные ответы:** А, В, Г

**Проверяемый ОР:** Знает. - Принципы REST, его особенности и ограничения.

### Вопрос 13
Клиент на Python делает запрос `requests.get(url, timeout=5)`, но сервер зависает и не отвечает. Что произойдёт по истечении таймаута?

А) Запрос автоматически повторится  
Б) Библиотека `requests` выбросит исключение `requests.Timeout`, которое нужно обработать  
В) Функция вернёт `None` без исключений  
Г) Запрос продолжит ждать ответа

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Логику обработки ошибок при запросах и как корректная обработка может предотвратить сбои в работе приложения.

### Вопрос 14
После `requests.post(url, json=data)` сервер возвращает статус 200, но при вызове `response.json()` возникает `JSONDecodeError`. Что может быть причиной? Отметь все подходящие варианты.

А) Сервер вернул HTML или другой формат вместо JSON  
Б) Тело ответа пустое  
В) JSON содержит синтаксическую ошибку  
Г) Библиотека `requests` не поддерживает JSON

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Понимает. - Почему JSON является предпочтительным форматом обмена данными в веб-разработке, и как вложенные структуры JSON отображаются в Python.

### Вопрос 15
Как корректно передать параметры `q=python` и `limit=10` в GET-запросе при использовании библиотеки `requests`?

А) `requests.get("https://api.example.com/search?q=python&limit=10")`  
Б) `requests.get("https://api.example.com/search", params={"q": "python", "limit": 10})`  
В) `requests.get("https://api.example.com/search", data={"q": "python", "limit": 10})`  
Г) `requests.post("https://api.example.com/search", json={"q": "python", "limit": 10})`

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Как правильно формировать GET и POST запросы, передавать параметры и обрабатывать ошибки (например, таймауты или неверные статус-коды).

### Вопрос 16
API вернул ответ `{"user": {"name": "Иван", "contacts": {"email": "ivan@example.com"}}}`, и данные преобразованы в словарь `data`. Как извлечь email из структуры? Напиши корректное выражение.

**Правильный ответ:** `data["user"]["contacts"]["email"]` (принимается `data.get("user", {}).get("contacts", {}).get("email")`)

**Проверяемый ОР:** Понимает. - Почему JSON является предпочтительным форматом обмена данными в веб-разработке, и как вложенные структуры JSON отображаются в Python.

### Вопрос 17
Почему разработчики часто выбирают JSON вместо XML для обмена данными между сервисами?

А) JSON всегда обрабатывается быстрее XML  
Б) JSON имеет простой синтаксис, его легко читать, и большинство языков программирования сразу поддерживает этот формат  
В) XML не поддерживается современными браузерами  
Г) JSON способен хранить больше данных на единицу объёма

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Почему JSON является предпочтительным форматом обмена данными в веб-разработке, и как вложенные структуры JSON отображаются в Python.

### Вопрос 18
Приложение должно повторять запрос при таймауте, но завершать программу при других сетевых ошибках. Какой фрагмент кода соответствует этому требованию?

А)
```python
try:
    response = requests.get(url, timeout=5)
except requests.Timeout:
    response = requests.get(url, timeout=5)
except requests.RequestException:
    print("Ошибка запроса")
    exit(1)
```
Б)
```python
response = requests.get(url, timeout=5)
if response.status_code != 200:
    exit(1)
```
В)
```python
try:
    response = requests.get(url, timeout=5)
except requests.Timeout:
    response = requests.get(url, timeout=5)
except requests.RequestException as e:
    print(f"Ошибка запроса: {e}")
    exit(1)
```
Г) Обработка ошибок не требуется, библиотека `requests` сделает всё автоматически

**Правильный ответ:** В

**Проверяемый ОР:** Понимает. - Логику обработки ошибок при запросах и как корректная обработка может предотвратить сбои в работе приложения.

### Вопрос 19
После рефакторинга модулей разработчик получил `ImportError: cannot import name 'send_mail' from 'notifications'`, хотя функция определена в `notifications`. Какие причины встречаются чаще всего? Отметь все подходящие варианты.

А) Появился циклический импорт, из-за чего модуль `notifications` не успевает загрузиться полностью  
Б) Функция `send_mail` содержит синтаксическую ошибку  
В) Модуль `notifications` отсутствует в `PYTHONPATH` при запуске  
Г) Функция определена ниже импорта внутри `notifications`, поэтому Python её «не видит»

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Знает. - Проблемы, связанные с конфликтами имён при импорте и циклическими зависимостями между модулями.

### Вопрос 20
Архитектор объясняет новичкам структуру проекта: каталоги `api`, `services`, `repositories` разделены по ответственности. В чём основная польза такого деления?

А) Модули автоматически сокращают размер исполняемого файла  
Б) Изменения в одном модуле минимально влияют на другие, что упрощает тестирование и поддержку  
В) Код в виде модулей выполняется быстрее  
Г) Python требует модульной структуры для запуска программ

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Почему разделение кода на модули помогает сократить взаимозависимости и упростить разработку крупных проектов.

### Вопрос 21
Модули `api.py` и `utils.py` импортируют друг друга, и программа падает при запуске. Чем опасны циклические импорты и как их избежать?

А) Безопасны: Python автоматически решает зависимости  
Б) Приводят к частично загруженным модулям и ошибкам `ImportError`; проблему решают выделением общих зависимостей или переносом импорта внутрь функций  
В) Уменьшают скорость, но не нарушают корректность  
Г) Блокируют сборщик мусора, но программа продолжает работу

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Как возникновение циклических импортов влияет на выполнение программы и как их избежать посредством правильного проектирования.

### Вопрос 22
В `api.py` добавлен `import utils`, а в `utils.py` — `from api import send_request`. Что произойдёт при импорте любого из модулей?

А) Всё отработает корректно, Python предотвращает конфликты  
Б) Возникнет циклический импорт, приводящий к ошибке или неполной загрузке модулей  
В) Модули загрузятся дважды, но код выполнится  
Г) Python задержит выполнение до полной загрузки зависимостей

**Правильный ответ:** Б

**Проверяемый ОР:** Знает. - Проблемы, связанные с конфликтами имён при импорте и циклическими зависимостями между модулями.

### Вопрос 23
В проекте есть модули `database.py`, `api_client.py` и `main.py`. `database.py` использует функции `api_client`, а `main.py` работает и с базой, и с API. Как организовать импорты, чтобы избежать лишних зависимостей?

А) В `database.py` импортировать `api_client`, а в `main.py` импортировать оба модуля  
Б) В `main.py` импортировать только `database`, так как тот уже тянет `api_client`  
В) Вынести общие зависимости в `config.py`  
Г) Возможны А или Б — выбор зависит от архитектуры и распределения ответственности

**Правильный ответ:** Г

**Проверяемый ОР:** Понимает. - Роль ясного разделения логики приложения для обеспечения масштабируемости и облегчения поддержки проекта.

### Вопрос 24
На командном ретро обсуждают, почему проект стоит поддерживать в модульной структуре. Назови три преимущества модульного подхода в разработке. Введи ответ через запятую.

**Правильный ответ:** «тестирование отдельных компонентов, упрощение поиска ошибок, проще добавлять функционал» (принимаются формулировки: упрощение поддержки, снижение взаимозависимостей, улучшение читаемости, переиспользование кода)

**Проверяемый ОР:** Знает. - Что такое модульность и как разделение кода на логические блоки способствует его поддержке и тестированию.

### Вопрос 25
При запуске бота Telegram возвращает ответ `{"ok": false, "error_code": 401, "description": "Unauthorized"}`. Токен недавно был сброшен в BotFather. Как будет вести себя бот с таким токеном?

А) Сможет отвечать только администратору, а остальные получат отказ  
Б) Telegram будет отклонять все вызовы с кодом 401, и бот перестанет отвечать пользователям  
В) Telegram автоматически выдаст новый токен при следующем запросе  
Г) Бот перейдёт в тестовый режим с урезанным функционалом

**Правильный ответ:** Б

**Проверяемый ОР:** Знает. - Как создать Telegram-бота через BotFather и получить токен для работы.

### Вопрос 26
Во внутренней документации ты описываешь, как пользователи должны вызывать команды бота. Какой символ должен стоять в начале команды, чтобы Telegram распознал её как команду бота?

**Правильный ответ:** `/`

**Проверяемый ОР:** Знает. - Основные возможности библиотеки python-telegram-bot, включая настройку, обработку команд и текстовых сообщений.

### Вопрос 27
Часть команд бота не реагирует, потому что обработчики не зарегистрированы в диспетчере. Почему важно настраивать обработчики команд?

А) Команды работают без хендлеров, система сама найдёт подходящее действие  
Б) Обработчики помогают боту понять намерение пользователя и вернуть ожидаемый сценарий, сохраняя хороший UX  
В) Команды нужны только при отладке, в продакшене они не используются  
Г) Регистрация команд ускоряет доставку сообщений в Telegram

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Как Telegram Bot API обеспечивает связь между пользователем и сервером, и почему важно правильно настроить обработку команд.

### Вопрос 28
Нужно организовать приём обновлений ботом в продакшене и на тестовом стенде. Какие подходы поддерживает Telegram Bot API? Отметь все подходящие варианты.

А) Long polling — периодический опрос API ботом  
Б) Webhook — отправка обновлений от Telegram на HTTPS-адрес  
В) Email-уведомления от Telegram  
Г) Прямое подключение к клиентскому приложению пользователя

**Правильные ответы:** А, Б

**Проверяемый ОР:** Понимает. - Как Telegram Bot API обеспечивает связь между пользователем и сервером, и почему важно правильно настроить обработку команд.

### Вопрос 29
Обработчик `/start` реализован, но бот не реагирует в чате. Какие действия стоит выполнить?

А) Увеличить таймаут HTTP-запросов к Telegram  
Б) Проверить, что бот запущен (`bot.polling()` или `application.run_polling()`), токен валиден и хендлер зарегистрирован  
В) Переименовать команду `/start`  
Г) Перезапустить клиент Telegram пользователя

**Правильный ответ:** Б

**Проверяемый ОР:** Знает. - Требования к архитектуре проекта при создании бота: как распределить функции для обработки команд, логики и работы с API.

### Вопрос 30
Пользователь нажимает inline-кнопку «Подтвердить заказ», бот развернут на библиотеке `python-telegram-bot`. Что происходит на сервере бота после нажатия?

А) Telegram сразу отправляет пользователю сообщение без участия бота  
Б) Telegram передаёт боту callback-запрос с `callback_data`, и зарегистрированный хендлер должен обработать событие  
В) Ничего не произойдёт — inline-кнопки требуют дополнительной активации  
Г) Возникает ошибка, потому что inline-кнопки доступны только администраторам

**Правильный ответ:** Б

**Проверяемый ОР:** Знает. - Принципы работы callback-запросов: как бот получает данные от нажатых кнопок и как обрабатываются такие запросы.

### Вопрос 31
При отладке callback-запроса в логах видно объект, пришедший от Telegram. В каком поле этого объекта передаются данные, заданные при создании inline-кнопки?

**Правильный ответ:** `callback_data`

**Проверяемый ОР:** Понимает. - Логику обработки callback-запросов для реализации многошаговых сценариев диалога, в том числе управление состоянием бота.

### Вопрос 32
Пользователи жалуются, что приходится вводить команды вручную. Как inline-кнопки и клавиатуры улучшают опыт взаимодействия?

А) Никак — это только визуальный элемент  
Б) Позволяют выбирать действия нажатием, сокращая ручной ввод и вероятность ошибок  
В) Работают только в веб-версии Telegram  
Г) Замедляют ответы бота

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Как интерактивные элементы (inline-кнопки, клавиатуры) улучшают пользовательский опыт, делая взаимодействие с ботом более динамичным.

### Вопрос 33
Бот для заказа еды реализует последовательность: выбор категории → выбор блюда → подтверждение. Как лучше управлять состоянием диалога?

А) Держать состояние в одной глобальной переменной  
Б) Использовать `callback_data` и хранить состояние по `chat_id`, обновляя шаг на каждом действии  
В) Просить пользователя каждый раз вводить команду заново  
Г) Управление состоянием невозможно в Telegram-ботах

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Логику обработки callback-запросов для реализации многошаговых сценариев диалога, в том числе управление состоянием бота.

### Вопрос 34
Что такое inline-кнопки в Telegram-боте?

А) Это кнопки под сообщением: при нажатии они отправляют callback-запрос боту и дают меню без ручного ввода  
Б) Это механизм пересылки файлов между пользователями  
В) Они работают только в групповых чатах и автоматически отправляют текст  
Г) Это декоративный элемент, не влияющий на логику бота

**Правильный ответ:** А

**Проверяемый ОР:** Знает. - Что такое inline-кнопки и клавиатуры в Telegram-ботах и для чего они используются.

