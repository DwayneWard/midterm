# Теоретическая часть контрольной работы. Вариант 6
## Разработка на Python. Основной

### Вопрос 1
Разработчик работает над фичей в ветке `feature/inventory`, пока в `main` появились новые коммиты. Нужно синхронизировать ветку с актуальной версией `main` и сохранить линейную историю для упрощения ревью. Как правильно организовать процесс синхронизации?

А) Выполнить `git pull` в ветке `feature/inventory`, чтобы автоматически объединить изменения через merge-коммит
Б) Выполнить `git merge origin/main` в ветке `feature/inventory`, чтобы создать merge-коммит без предварительного fetch
В) Выполнить `git fetch`, остаться в `feature/inventory` и выполнить `git rebase origin/main`, чтобы переписать коммиты поверх актуальной истории `main`
Г) Выполнить `git fetch`, переключиться в `main`, сделать `git pull`, затем вернуться в `feature/inventory` и выполнить `git merge main`

**Правильный ответ:** В

**Проверяемый ОР:** Понимает. - Как структурировать процесс разработки с помощью Git: зачем нужны ветки, почему важна история коммитов и как правильно использовать rebase для упорядочивания истории изменений (*).



### Вопрос 2
Разработчик начинает работу над новой фичей `feature/analytics` и хочет создать ветку, сразу переключившись на неё. Какая команда Git создаёт новую ветку и сразу переключает рабочее дерево на неё? Напиши одну возможную команду.

**Правильный ответ:** `git checkout -b feature/analytics` (принимаются варианты `git switch -c feature/analytics`, `git branch feature/analytics && git checkout feature/analytics`)

**Проверяемый ОР:** Знает. - Основные команды Git - инициализация, коммиты, создание веток, слияние, rebase(*) и базовые понятия работы с удалёнными репозиториями.



### Вопрос 3
Разработчик обнаружил, что в репозиторий попал файл `config.local.py` с локальными настройками. Нужно удалить файл из отслеживания Git и предотвратить его повторное попадание в репозиторий. Как правильно организовать процесс?

А) Удалить файл из рабочей директории командой `rm config.local.py`, перезапустить Git
Б) Удалить файл из индекса командой `git rm --cached config.local.py`, добавить `config.local.py` в `.gitignore`, закоммитить изменения
В) Выполнить `git reset --hard HEAD~1`, чтобы откатить последний коммит с файлом
Г) Переместить файл в другую директорию, чтобы Git перестал его отслеживать

**Правильный ответ:** Б

**Проверяемый ОР:** Знает. - Основные команды Git - инициализация, коммиты, создание веток, слияние, rebase(*) и базовые понятия работы с удалёнными репозиториями.



### Вопрос 4
Перед публикацией Merge Request разработчик проверяет историю коммитов. Какой подход к организации коммитов лучше всего помогает ревьюеру быстро понять изменения?

А) Коммиты без сообщений, но с хорошим кодом и подробным описанием в README
Б) Один большой коммит со всеми изменениями и подробным описанием в комментарии к MR
В) Все изменения в одном коммите с сообщением «обновления»
Г) Серия осмысленных коммитов с понятными сообщениями, каждое описывает отдельную логическую часть изменений

**Правильный ответ:** Г

**Проверяемый ОР:** Понимает. - Роль GitLab как платформы для совместной работы, хранения и ревью кода.



### Вопрос 5
Бэкенд отвечает кодом `201 Created` с заголовком `Location`, когда создан новый ресурс. Что должен сделать клиент для правильной обработки ответа?

А) Прервать выполнение, так как ресурс уже создан
Б) Повторять POST-запрос бесконечно, чтобы убедиться, что ресурс создан
В) Сразу считать операцию завершённой без дополнительных действий
Г) Использовать URL из заголовка `Location` для получения или обновления созданного ресурса

**Правильный ответ:** Г

**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.



### Вопрос 7
Разработчик проектирует REST API для управления профилями пользователей. Нужно обновить только поле телефона в профиле по идентификатору пользователя. Какой метод и маршрут соответствуют принципам REST?

А) POST `/api/users/phone` с телом `{"id": 123, "phone": "+7..."}` — использовать POST для обновления
Б) PUT `/api/users/{id}` с телом, содержащим только поле phone — использовать PUT для частичного обновления
В) PATCH `/api/users/{id}` с телом `{"phone": "+7..."}` — использовать PATCH для частичного обновления ресурса
Г) GET `/api/users/{id}` с телом запроса — использовать GET для обновления

**Правильный ответ:** В

**Проверяемый ОР:** Понимает. - Почему выбор конкретного HTTP-метода соответствует определённой операции.



### Вопрос 8
Разработчик тестирует API в Postman и получает `400 Bad Request` на POST-запрос. Нужно понять причину ошибки и правильно организовать процесс диагностики. Какие шаги помогут выявить проблему? Отметь все подходящие варианты.

А) Проверить правильность типов данных для каждого поля
Б) Проверить корректность формата JSON в теле запроса
В) Проверить корректность URL и параметров пути запроса
Г) Убедиться, что все обязательные поля присутствуют в теле запроса

**Правильные ответы:** А, Б, Г

**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.



### Вопрос 10
Разработчик тестирует API в Postman и получает `401 Unauthorized` на запрос к защищённому эндпоинту. Нужно понять причину ошибки и правильно организовать процесс диагностики. Что нужно проверить в первую очередь? Отметь все подходящие варианты.

А) Корректность формата JSON в теле запроса
Б) Наличие заголовка `Authorization` в запросе
В) Корректность токена или ключа авторизации
Г) Срок действия токена, если он ограничен

**Правильные ответы:** Б, В, Г

**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.



### Вопрос 11
Как отправить POST-запрос с JSON-телом и авторизационным токеном, используя `requests`?

**Правильный ответ:** `requests.post(url, json=data, headers={"Authorization": f"Bearer {token}"})`

**Проверяемый ОР:** Понимает. - Как правильно формировать GET и POST запросы, передавать параметры и обрабатывать ошибки (например, таймауты или неверные статус-коды).



### Вопрос 12
Запрос через `requests` периодически падает с `requests.ConnectionError`. Нужно правильно организовать процесс обработки ошибок соединения. Какие шаги помогут устойчиво обработать ситуацию? Отметь все подходящие варианты.

А) Обернуть запрос в try/except и вернуть значение по умолчанию (например, пустой список) при ошибке соединения
Б) Добавить повторные попытки с задержкой между попытками для временных проблем с сетью
В) Обработать ошибку и завершать выполнение с понятным сообщением для пользователя
Г) Изменить URL запроса на другой эндпоинт, чтобы обойти ошибку соединения

**Правильные ответы:** Б, В

**Проверяемый ОР:** Понимает. - Логику обработки ошибок при запросах и как корректная обработка может предотвратить сбои в работе приложения.



### Вопрос 13
API вернул:
```json
{"data": {"items": [{"sku": "A1", "qty": 2}, {"sku": "B2", "qty": 5}]}}
```
Как получить количество товара со SKU `B2` из словаря `data`?

**Правильный ответ:** `next(item["qty"] for item in data["data"]["items"] if item["sku"] == "B2")` (принимается индексирование по списку)

**Проверяемый ОР:** Понимает. - Почему JSON является предпочтительным форматом обмена данными в веб-разработке, и как вложенные структуры JSON отображаются в Python.



### Вопрос 14
Разработчик тестирует API в Postman и получает `500 Internal Server Error` на запрос к сервису. Нужно правильно интерпретировать этот статус-код и организовать процесс диагностики. Что означает этот код и какие гипотезы стоит проверить? Отметь все подходящие варианты.

А) Ошибка на стороне сервера; проверить логи сервера на наличие исключений и ошибок выполнения
Б) Ошибка на стороне клиента; нужно исправить формат запроса и повторить его
В) Ошибка на стороне сервера; проверить корректность тела запроса и заголовков, которые могли вызвать ошибку на сервере
Г) Ошибка на стороне сервера; проверить наличие временных ограничений или таймаутов, которые могли привести к ошибке

**Правильные ответы:** А, В, Г

**Проверяемый ОР:** Понимает. - Логику обработки ошибок при запросах и как корректная обработка может предотвратить сбои в работе приложения.



### Вопрос 15
После рефакторинга `services.py` и `models.py` импортируют друг друга. Какие шаги помогут разорвать цикл? Отметь все подходящие варианты.

А) Использовать абсолютные импорты вместо относительных, чтобы изменить порядок загрузки модулей
Б) Переместить все импорты в конец файлов, чтобы модули загружались после определения всех функций
В) Вынести общие типы в новый модуль, чтобы разорвать цикл зависимостей
Г) Перенести локальные импорты внутрь функций, чтобы отложить загрузку модулей

**Правильные ответы:** В, Г

**Проверяемый ОР:** Понимает. - Как возникновение циклических импортов влияет на выполнение программы и как их избежать посредством правильного проектирования.



### Вопрос 16
Модуль назвали `json.py`, из-за чего стандартная библиотека `json` перестала корректно работать. Что сделать?

А) Переименовать свой модуль чтобы избежать конфликта с системным модулем
Б) Переместить локальный модуль в подпапку и использовать абсолютный импорт для стандартного модуля
В) Использовать alias при импорте стандартного модуля: `import json as std_json`
Г) Использовать относительный импорт для локального модуля: `from . import json`

**Правильный ответ:** А, В

**Проверяемый ОР:** Знает. - Проблемы, связанные с конфликтами имён при импорте и циклическими зависимостями между модулями.



### Вопрос 17
Крупный сервис разделён на пакеты `api`, `domain`, `storage`. Почему такое разделение полезно для разработки и поддержки проекта? Отметь все подходящие варианты.

А) Уменьшает связанность между компонентами и улучшает читаемость кода
Б) Упрощает тестирование отдельных слоёв без необходимости поднимать всю систему
В) Упрощает процесс развёртывания, так как можно обновлять отдельные пакеты независимо
Г) Ускоряет процесс разработки за счёт параллельной работы над разными пакетами

**Правильные ответы:** А, Б

**Проверяемый ОР:** Знает. - Что такое модульность и как разделение кода на логические блоки способствует его поддержке и тестированию.



### Вопрос 18
В проекте есть структура `project/logic/core.py` и `project/utils/helpers.py`. Нужно импортировать функцию `get_data` из `helpers.py` в файл `core.py`. Какой способ импорта соответствует абсолютному импорту?

А) `from ..utils.helpers import get_data`
Б) `from helpers import get_data`
В) `import get_data`
Г) `from utils.helpers import get_data`

**Правильный ответ:** Г

**Проверяемый ОР:** Знает. - Основные принципы организации кода в Python: использование пакетов, модулей и правильная структура проекта.



### Вопрос 19
Бот отвечает на команды, но не реагирует на текст. Какие проверки сделаешь? Отметь все подходящие варианты.

А) Нет ли исключений внутри обработчика
Б) Запущен ли бот
В) Корректно ли указан токен бота
Г) Зарегистрирован ли обработчик для текстовых сообщений

**Правильные ответы:** А, Г

**Проверяемый ОР:** Понимает. - Как Telegram Bot API обеспечивает связь между пользователем и сервером, и почему важно правильно настроить обработку команд.



### Вопрос 20
Код бота вырос до нескольких сотен строк. Как разделить ответственность по файлам? Отметь все подходящие варианты.

А) `handlers/commands.py` — команды, `handlers/messages.py` — текст, `services/external.py` — интеграции
Б) `bot.py` — команды и текст, `external.py` — интеграции и хранилище
В) Конфигурацию и токены вынести в `settings.py`

**Правильные ответы:** А, В

**Проверяемый ОР:** Понимает. - Роль библиотек, упрощающих интеграцию с Telegram, и как они структурируют работу бота.



### Вопрос 21
Нужно добавить пользователю выбор «Да/Нет» в одном сообщении. Как создать меню из двух кнопок «Да» и «Нет»?

А) Использовать один обработчик с проверкой `message.text in ['Да', 'Нет']`
Б) Создать два отдельных обработчика для текстовых сообщений «Да» и «Нет»
В) Использовать `ReplyKeyboardMarkup` и добавить кнопки
Г) Использовать `InlineKeyboardMarkup` и добавить кнопки

**Правильный ответ:** Г

**Проверяемый ОР:** Знает. - Что такое inline-кнопки и клавиатуры в Telegram-ботах и для чего они используются.



### Вопрос 22
Как выбрать структуру `callback_data`, чтобы в обработчике было понятно, о каком заказе идёт речь? Отметь все подходящие идеи.

А) Использовать JSON с полями, если данные короткие
Б) Хардкодить ID в хендлере
В) Кодировать идентификатор заказа в строке, например `order:123`
Г) Передавать пустую строку и хранить всё в глобальной переменной

**Правильные ответы:** А, В

**Проверяемый ОР:** Понимает. - Логику обработки callback-запросов для реализации многошаговых сценариев диалога, в том числе управление состоянием бота.

