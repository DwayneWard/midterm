# Теоретическая часть контрольной работы. Вариант 6
## Разработка на Python. Основной

### Вопрос 1
Разработчик работает над фичей в ветке `feature/inventory`, пока в `main` появились новые коммиты. Нужно синхронизировать ветку с актуальной версией `main` и сохранить линейную историю для упрощения ревью. Как правильно организовать процесс синхронизации?
В) Выполнить `git fetch`, переключиться в `main`, сделать `git pull`, затем вернуться в `feature/inventory` и выполнить `git merge main`
А) Выполнить `git fetch`, остаться в `feature/inventory` и выполнить `git rebase origin/main`, чтобы переписать коммиты поверх актуальной истории `main`
Г) Выполнить `git pull` в ветке `feature/inventory`, чтобы автоматически объединить изменения через merge-коммит
Б) Выполнить `git merge origin/main` в ветке `feature/inventory`, чтобы создать merge-коммит без предварительного fetch

**Правильный ответ:** А### Вопрос 2
Разработчик начинает работу над новой фичей `feature/analytics` и хочет создать ветку, сразу переключившись на неё. Какая команда Git создаёт новую ветку и сразу переключает рабочее дерево на неё? Напиши одну возможную команду.

**Правильный ответ:** `git checkout -b feature/analytics` (принимаются варианты `git switch -c feature/analytics`, `git branch feature/analytics && git checkout feature/analytics`)

**Проверяемый ОР:** Знает. - Основные команды Git - инициализация, коммиты, создание веток, слияние, rebase(*) и базовые понятия работы с удалёнными репозиториями.

### Вопрос 3
Разработчик обнаружил, что в репозиторий попал файл `config.local.py` с локальными настройками. Нужно удалить файл из отслеживания Git и предотвратить его повторное попадание в репозиторий. Как правильно организовать процесс?
Г) Удалить файл из индекса командой `git rm --cached config.local.py`, добавить `config.local.py` в `.gitignore`, закоммитить изменения
Б) Удалить файл из рабочей директории командой `rm config.local.py`, перезапустить Git
В) Переместить файл в другую директорию, чтобы Git перестал его отслеживать
А) Выполнить `git reset --hard HEAD~1`, чтобы откатить последний коммит с файлом

**Правильный ответ:** Г### Вопрос 4
Перед публикацией Merge Request разработчик проверяет историю коммитов. Какой подход к организации коммитов лучше всего помогает ревьюеру быстро понять изменения?
А) Один большой коммит со всеми изменениями и подробным описанием в комментарии к MR
В) Серия осмысленных коммитов с понятными сообщениями, каждое описывает отдельную логическую часть изменений
Г) Коммиты без сообщений, но с хорошим кодом и подробным описанием в README
Б) Все изменения в одном коммите с сообщением «обновления»

**Правильный ответ:** В### Вопрос 5
Бэкенд отвечает кодом `201 Created` с заголовком `Location`, когда создан новый ресурс. Что должен сделать клиент для правильной обработки ответа?
Б) Сразу считать операцию завершённой без дополнительных действий
А) Использовать URL из заголовка `Location` для получения или обновления созданного ресурса
В) Прервать выполнение, так как ресурс уже создан
Г) Повторять POST-запрос бесконечно, чтобы убедиться, что ресурс создан

**Правильный ответ:** А### Вопрос 6 
Разработчик изучает структуру HTTP-ответа. Какие основные части присутствуют в HTTP-ответе? Отметь все подходящие варианты.
Г) Стартовая строка со статус-кодом
Б) Набор заголовков ответа
А) Тело ответа (если требуется)
В) HTTP-метод исходного запроса
**Правильные ответы:** А, Б, В
**Проверяемый ОР:** Знает. - Различия между запросом к серверу и ответом, а также структуру типичного REST-запроса и ответа.
**Правильные ответы:** А, Б, Г
**Проверяемый ОР:** Знает. - Различия между запросом к серверу и ответом, а также структуру типичного REST-запроса и ответа.

**Правильные ответы:** А, В, Г
**Проверяемый ОР:** Знает. - Различия между запросом к серверу и ответом, а также структуру типичного REST-запроса и ответа.

**Правильные ответы:** А, Б, Г

**Проверяемый ОР:** Знает. - Различия между запросом к серверу и ответом, а также структуру типичного REST-запроса и ответа.

### Вопрос 7
Разработчик проектирует REST API для управления профилями пользователей. Нужно обновить только поле телефона в профиле по идентификатору пользователя. Какой метод и маршрут соответствуют принципам REST?
Б) PATCH `/api/users/{id}` с телом `{"phone": "+7..."}` — использовать PATCH для частичного обновления ресурса
В) GET `/api/users/{id}` с телом запроса — использовать GET для обновления
Г) POST `/api/users/phone` с телом `{"id": 123, "phone": "+7..."}` — использовать POST для обновления
А) PUT `/api/users/{id}` с телом, содержащим только поле phone — использовать PUT для частичного обновления

**Правильный ответ:** Б### Вопрос 8
Разработчик тестирует API в Postman и получает `400 Bad Request` на POST-запрос. Нужно понять причину ошибки и правильно организовать процесс диагностики. Какие шаги помогут выявить проблему? Отметь все подходящие варианты.
Б) Проверить корректность формата JSON в теле запроса
В) Убедиться, что все обязательные поля присутствуют в теле запроса
Г) Проверить правильность типов данных для каждого поля
А) Проверить корректность URL и параметров пути запроса
**Правильные ответы:** А, Б, В
**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.
**Правильные ответы:** Б, В, Г
**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.

**Правильные ответы:** А, В, Г
**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.

**Правильные ответы:** Б, В, Г

**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.

### Вопрос 9 
Разработчик проектирует REST API и выбирает между path-параметрами и query-параметрами для передачи данных. Нужно понять различия между этими подходами. Чем отличаются path-параметры от query-параметров? Отметь все подходящие варианты.
Г) Path-параметры задают идентификаторы ресурса и входят в структуру маршрута (например, `/users/{id}`)
А) Query-параметры используются для фильтрации, сортировки и передаются после символа `?` в URL (например, `/users?status=active`)
В) Path-параметры определяют структуру эндпоинта и порядок их следования важен для маршрутизации
Б) Query-параметры определяют структуру эндпоинта и порядок их следования важен для маршрутизации
**Правильные ответы:** А, Б, В
**Проверяемый ОР:** Понимает. - Как REST API стандартизирует структуру URL, методы HTTP, заголовки, тело запроса и ответа, облегчая интеграцию различных систем.
**Правильные ответы:** Б, В, Г
**Проверяемый ОР:** Понимает. - Как REST API стандартизирует структуру URL, методы HTTP, заголовки, тело запроса и ответа, облегчая интеграцию различных систем.

**Правильные ответы:** А, Б, Г
**Проверяемый ОР:** Понимает. - Как REST API стандартизирует структуру URL, методы HTTP, заголовки, тело запроса и ответа, облегчая интеграцию различных систем.

**Правильные ответы:** Б, В, Г

**Проверяемый ОР:** Понимает. - Как REST API стандартизирует структуру URL, методы HTTP, заголовки, тело запроса и ответа, облегчая интеграцию различных систем.

### Вопрос 10
Разработчик тестирует API в Postman и получает `401 Unauthorized` на запрос к защищённому эндпоинту. Нужно понять причину ошибки и правильно организовать процесс диагностики. Что нужно проверить в первую очередь? Отметь все подходящие варианты.
Г) Корректность токена или ключа авторизации
А) Наличие заголовка `Authorization` в запросе
Б) Срок действия токена, если он ограничен
В) Корректность формата JSON в теле запроса
**Правильные ответы:** А, Б, В
**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.
**Правильные ответы:** А, Б, В
**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.

**Правильные ответы:** А, Б, Г
**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.

### Вопрос 11
Как отправить POST-запрос с JSON-телом и авторизационным токеном, используя `requests`?

**Правильный ответ:** `requests.post(url, json=data, headers={"Authorization": f"Bearer {token}"})`

**Проверяемый ОР:** Понимает. - Как правильно формировать GET и POST запросы, передавать параметры и обрабатывать ошибки (например, таймауты или неверные статус-коды).

### Вопрос 12
Запрос через `requests` периодически падает с `requests.ConnectionError`. Нужно правильно организовать процесс обработки ошибок соединения. Какие шаги помогут устойчиво обработать ситуацию? Отметь все подходящие варианты.
А) Обработать ошибку и завершать выполнение с понятным сообщением для пользователя
Г) Добавить повторные попытки с задержкой между попытками для временных проблем с сетью
Б) Обернуть запрос в try/except и вернуть значение по умолчанию (например, пустой список) при ошибке соединения
В) Изменить URL запроса на другой эндпоинт, чтобы обойти ошибку соединения
**Правильные ответы:** А, Б
**Проверяемый ОР:** Понимает. - Логику обработки ошибок при запросах и как корректная обработка может предотвратить сбои в работе приложения.
**Правильные ответы:** Б, Г
**Проверяемый ОР:** Понимает. - Логику обработки ошибок при запросах и как корректная обработка может предотвратить сбои в работе приложения.

**Правильные ответы:** Б, Г
**Проверяемый ОР:** Понимает. - Логику обработки ошибок при запросах и как корректная обработка может предотвратить сбои в работе приложения.

**Правильные ответы:** Б, Г

**Проверяемый ОР:** Понимает. - Логику обработки ошибок при запросах и как корректная обработка может предотвратить сбои в работе приложения.

### Вопрос 13
API вернул:
```json
{"data": {"items": [{"sku": "A1", "qty": 2}, {"sku": "B2", "qty": 5}]}}
```
Как получить количество товара со SKU `B2` из словаря `data`?

**Правильный ответ:** `next(item["qty"] for item in data["data"]["items"] if item["sku"] == "B2")` (принимается индексирование по списку)

**Проверяемый ОР:** Понимает. - Почему JSON является предпочтительным форматом обмена данными в веб-разработке, и как вложенные структуры JSON отображаются в Python.

### Вопрос 14
Разработчик тестирует API в Postman и получает `500 Internal Server Error` на запрос к сервису. Нужно правильно интерпретировать этот статус-код и организовать процесс диагностики. Что означает этот код и какие гипотезы стоит проверить? Отметь все подходящие варианты.
В) Ошибка на стороне сервера; проверить логи сервера на наличие исключений и ошибок выполнения
Г) Ошибка на стороне сервера; проверить корректность тела запроса и заголовков, которые могли вызвать ошибку на сервере
Б) Ошибка на стороне сервера; проверить наличие временных ограничений или таймаутов, которые могли привести к ошибке
А) Ошибка на стороне клиента; нужно исправить формат запроса и повторить его
**Правильные ответы:** А, Б, В
**Проверяемый ОР:** Понимает. - Логику обработки ошибок при запросах и как корректная обработка может предотвратить сбои в работе приложения.
**Правильные ответы:** А, Б, В
**Проверяемый ОР:** Понимает. - Логику обработки ошибок при запросах и как корректная обработка может предотвратить сбои в работе приложения.

**Правильные ответы:** Б, В, Г
**Проверяемый ОР:** Понимает. - Логику обработки ошибок при запросах и как корректная обработка может предотвратить сбои в работе приложения.

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Понимает. - Логику обработки ошибок при запросах и как корректная обработка может предотвратить сбои в работе приложения.

### Вопрос 15
После рефакторинга `services.py` и `models.py` импортируют друг друга. Какие шаги помогут разорвать цикл? Отметь все подходящие варианты.
А) Вынести общие типы в новый модуль, чтобы разорвать цикл зависимостей
В) Перенести локальные импорты внутрь функций, чтобы отложить загрузку модулей
Б) Использовать абсолютные импорты вместо относительных, чтобы изменить порядок загрузки модулей
Г) Переместить все импорты в конец файлов, чтобы модули загружались после определения всех функций
**Правильные ответы:** А, Б
**Проверяемый ОР:** Понимает. - Как возникновение циклических импортов влияет на выполнение программы и как их избежать посредством правильного проектирования.
**Правильные ответы:** А, Б
**Проверяемый ОР:** Понимает. - Как возникновение циклических импортов влияет на выполнение программы и как их избежать посредством правильного проектирования.

**Правильные ответы:** А, В
**Проверяемый ОР:** Понимает. - Как возникновение циклических импортов влияет на выполнение программы и как их избежать посредством правильного проектирования.

**Правильные ответы:** А, Б

**Проверяемый ОР:** Понимает. - Как возникновение циклических импортов влияет на выполнение программы и как их избежать посредством правильного проектирования.

### Вопрос 16
Модуль назвали `json.py`, из-за чего стандартная библиотека `json` перестала корректно работать. Что сделать?
А) Переименовать свой модуль чтобы избежать конфликта с системным модулем
В) Использовать alias при импорте стандартного модуля: `import json as std_json`
Г) Переместить локальный модуль в подпапку и использовать абсолютный импорт для стандартного модуля
Б) Использовать относительный импорт для локального модуля: `from . import json`

**Правильный ответ:** А, В### Вопрос 17
Крупный сервис разделён на пакеты `api`, `domain`, `storage`. Почему такое разделение полезно для разработки и поддержки проекта? Отметь все подходящие варианты.
В) Упрощает тестирование отдельных слоёв без необходимости поднимать всю систему
Г) Ускоряет процесс разработки за счёт параллельной работы над разными пакетами
А) Уменьшает связанность между компонентами и улучшает читаемость кода
Б) Упрощает процесс развёртывания, так как можно обновлять отдельные пакеты независимо
**Правильные ответы:** А, В
**Проверяемый ОР:** Знает. - Что такое модульность и как разделение кода на логические блоки способствует его поддержке и тестированию.
**Правильные ответы:** А, В
**Проверяемый ОР:** Знает. - Что такое модульность и как разделение кода на логические блоки способствует его поддержке и тестированию.

**Правильные ответы:** А, В
**Проверяемый ОР:** Знает. - Что такое модульность и как разделение кода на логические блоки способствует его поддержке и тестированию.

**Правильные ответы:** А, В

**Проверяемый ОР:** Знает. - Что такое модульность и как разделение кода на логические блоки способствует его поддержке и тестированию.

### Вопрос 18
В проекте есть структура `project/logic/core.py` и `project/utils/helpers.py`. Нужно импортировать функцию `get_data` из `helpers.py` в файл `core.py`. Какой способ импорта соответствует абсолютному импорту?
Г) `from utils.helpers import get_data`
Б) `from ..utils.helpers import get_data`
А) `from helpers import get_data`
В) `import get_data`

**Правильный ответ:** Г### Вопрос 19
Бот отвечает на команды, но не реагирует на текст. Какие проверки сделаешь? Отметь все подходящие варианты.
Б) Зарегистрирован ли обработчик для текстовых сообщений
Г) Нет ли исключений внутри обработчика
В) Запущен ли бот
А) Корректно ли указан токен бота
**Правильные ответы:** А, Б
**Проверяемый ОР:** Понимает. - Как Telegram Bot API обеспечивает связь между пользователем и сервером, и почему важно правильно настроить обработку команд.
**Правильные ответы:** В, Г
**Проверяемый ОР:** Понимает. - Как Telegram Bot API обеспечивает связь между пользователем и сервером, и почему важно правильно настроить обработку команд.

**Правильные ответы:** А, В
**Проверяемый ОР:** Понимает. - Как Telegram Bot API обеспечивает связь между пользователем и сервером, и почему важно правильно настроить обработку команд.

**Правильные ответы:** В, Г

**Проверяемый ОР:** Понимает. - Как Telegram Bot API обеспечивает связь между пользователем и сервером, и почему важно правильно настроить обработку команд.

### Вопрос 20
Код бота вырос до нескольких сотен строк. Как разделить ответственность по файлам? Отметь все подходящие варианты.
Б) `handlers/commands.py` — команды, `handlers/messages.py` — текст, `services/external.py` — интеграции
А) Конфигурацию и токены вынести в `settings.py`
В) `bot.py` — команды и текст, `external.py` — интеграции и хранилище  
**Правильные ответы:** А, Б
**Проверяемый ОР:** Понимает. - Роль библиотек, упрощающих интеграцию с Telegram, и как они структурируют работу бота.
**Правильные ответы:** А, В
**Проверяемый ОР:** Понимает. - Роль библиотек, упрощающих интеграцию с Telegram, и как они структурируют работу бота.

**Правильные ответы:** А, В
**Проверяемый ОР:** Понимает. - Роль библиотек, упрощающих интеграцию с Telegram, и как они структурируют работу бота.

**Правильные ответы:** А, В

**Проверяемый ОР:** Понимает. - Роль библиотек, упрощающих интеграцию с Telegram, и как они структурируют работу бота.

### Вопрос 21
Нужно добавить пользователю выбор «Да/Нет» в одном сообщении. Как создать меню из двух кнопок «Да» и «Нет»?
Б) Использовать `InlineKeyboardMarkup` и добавить кнопки
В) Использовать `ReplyKeyboardMarkup` и добавить кнопки
А) Создать два отдельных обработчика для текстовых сообщений «Да» и «Нет»
Г) Использовать один обработчик с проверкой `message.text in ['Да', 'Нет']`

**Правильный ответ:** Б### Вопрос 22
Как выбрать структуру `callback_data`, чтобы в обработчике было понятно, о каком заказе идёт речь? Отметь все подходящие идеи.
Г) Кодировать идентификатор заказа в строке, например `order:123`
Б) Использовать JSON с полями, если данные короткие
А) Передавать пустую строку и хранить всё в глобальной переменной
В) Хардкодить ID в хендлере
**Правильные ответы:** А, Б
**Проверяемый ОР:** Понимает. - Логику обработки callback-запросов для реализации многошаговых сценариев диалога, в том числе управление состоянием бота.
**Правильные ответы:** В, Г
**Проверяемый ОР:** Понимает. - Логику обработки callback-запросов для реализации многошаговых сценариев диалога, в том числе управление состоянием бота.

**Правильные ответы:** А, В
**Проверяемый ОР:** Понимает. - Логику обработки callback-запросов для реализации многошаговых сценариев диалога, в том числе управление состоянием бота.

**Правильные ответы:** В, Г

**Проверяемый ОР:** Понимает. - Логику обработки callback-запросов для реализации многошаговых сценариев диалога, в том числе управление состоянием бота.

