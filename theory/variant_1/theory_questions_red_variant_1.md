# Теоретическая часть контрольной работы. Вариант 1
## Разработка на Python. Углублённый

### Вопрос 1
Какую основную роль выполняет API в клиент-серверном взаимодействии?

А) API определяет контракт запросов и ответов между клиентом и сервером
Б) API используется только для аутентификации пользователей
В) API обеспечивает кеширование данных на стороне клиента
Г) API служит промежуточным слоем между клиентом и базой данных

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Роль API в обмене данными между клиентом и сервером.



### Вопрос 2
Эндпоинт при любой ошибке возвращает статус 200 с сообщением «error». Какие изменения нужно внести, чтобы клиенты корректно обрабатывали разные сценарии? Отметь все подходящие варианты.

А) Документировать возможные HTTP-статусы, которые может вернуть эндпоинт
Б) Включать в ответ структурированное сообщение об ошибке
В) Возвращать статусы 4xx для ошибок клиента и 5xx для ошибок сервера
Г) Сохранять статус 200, чтобы фронтенд не показывал ошибки пользователю

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Понимает. - Как корректно обрабатывать ошибки в API.


### Вопрос 3
Какой код используется для подключения статических файлов в FastAPI?

А) `app.mount("/static", StaticFiles(directory="static"), name="static")`
Б) `app.static("/static", "static")`
В) `app.serve_static("static")`
Г) `app.include_router("/static")`

**Правильный ответ:** А

**Проверяемый ОР:** Знает. - Различия между статическими файлами и шаблонами, способы их подключения в FastAPI.



### Вопрос 4
Фронтенд-приложение отправляет HTTP-запрос к серверу, но сервер временно недоступен. Что произойдёт с запросом?

А) Браузер будет автоматически повторять запрос с интервалом
Б) Запрос зависнет в состоянии ожидания на неограниченное время
В) Запрос завершится ошибкой, и фронтенду придётся её обработать
Г) Фронтенд может использовать закэшированные данные, если они доступны

**Правильный ответ:** В

**Проверяемый ОР:** Понимает. - Как клиент и сервер взаимодействуют через HTTP-запросы и ответы.



### Вопрос 5
API вернул ответ:
```json
{
  "detail": [
    {
      "loc": ["body", "price"],
      "msg": "value is not a valid integer"
    }
  ]
}
```
Что означает такой ответ?

А) Ошибка сервера FastAPI
Б) Ошибка клиента (некорректные данные в запросе)
В) Ответ сгенерирован промежуточным прокси
Г) Это HTML-страница

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Как на клиенте различать ошибки сервера (500) и ошибки клиента (400).



### Вопрос 6
Эндпоинт `GET /users/{user_id}` объявлен с параметром `user_id: int`. Какой статус-код вернёт FastAPI, если клиент запросит `/users/abc`? Напиши число.

**Правильный ответ:** `422`

**Проверяемый ОР:** Понимает. - Как обрабатывать запросы и возвращать ответы.



### Вопрос 7
Какие типы данных могут передаваться через HTML-формы по умолчанию? Отметь все подходящие варианты.

А) JSON-объекты без дополнительной сериализации
Б) Числовые значения
В) Файлы (с `multipart/form-data`)
Г) Текстовые строки

**Правильные ответы:** Б, В, Г

**Проверяемый ОР:** Знает. - Какие типы данных могут передаваться через формы.



### Вопрос 8
Какие шаги необходимы для передачи данных в Jinja2-шаблон в FastAPI? Отметь все подходящие варианты.

А) Данные в шаблон подставятся автоматически, доплнительно передавать данные не требуется
Б) Вызвать `templates.TemplateResponse("profile.html", {"request": request, "user": user})`
В) Передать данные через словарь в параметр `context`
Г) Использовать глобальные переменные для передачи данных в шаблон

**Правильные ответы:** Б, В

**Проверяемый ОР:** Знает. - Основы работы с Jinja2 в FastAPI: передача данных, использование циклов и условий.



### Вопрос 9
Перед релизом обсуждаете с фронтендом договорённости по контракту API. Какие шаги помогут сделать интеграцию надёжной? Отметь все подходящие варианты.

А) Поддерживать документацию и синхронизировать изменения
Б) Всегда отвечать кодом 200, даже при ошибке
В) Возвращать единый формат, например `{ "data": ..., "error": ... }`
Г) Прогонять тестовые сценарии по CRUD  
Д) Логировать ошибки и добавлять идентификатор запроса

**Правильные ответы:** А, В, Г

**Проверяемый ОР:** Понимает. - Как организовать эндпоинты для CRUD-операций и поддерживать согласованность API с фронтендом.



### Вопрос 10
Какие три ключевых поля должны быть включены в структурированный JSON-ответ об ошибке? Напиши их через запятую.

**Правильный ответ:** `code, message, details` (принимаются синонимы вроде `status`, `error`, `field_details`)

**Проверяемый ОР:** Понимает. - Как клиент и сервер взаимодействуют через HTTP-запросы и ответы.



### Вопрос 11
В коде есть декоратор `@app.get("/users")`, но функция-обработчик отсутствует. Что произойдёт при запуске приложения?

А) FastAPI автоматически создаст обработчик, возвращающий пустой ответ
Б) Эндпоинт будет игнорироваться, запросы вернут 404
В) Приложение упадёт с ошибкой при запуске
Г) FastAPI подставит обработчик по умолчанию, возвращающий `{"message": "OK"}`

**Правильный ответ:** В

**Проверяемый ОР:** Знает. - Основные концепции маршрутизации (GET, POST).



### Вопрос 12
API возвращает 500 из-за временной недоступности базы данных. Какие шаги помогут улучшить обработку ошибок и дать фронтенду понятную обратную связь? Отметь все подходящие варианты.

А) Оставить статус 500 и возвращать пустое тело ответа
Б) Возвращать статус 503 с сообщением о временной недоступности
В) Скрывать ошибку и возвращать статус 200  
Д) Согласовать с фронтендом формат отображения ошибок пользователю
Г) Добавить обработчик исключений, возвращающий структурированный JSON и логирующий ошибку

**Правильные ответы:** Б, Г

**Проверяемый ОР:** Понимает. - Как кастомные обработчики ошибок помогают улучшить стабильность API.



### Вопрос 13
Какие шаги помогают организовать структуру проекта FastAPI для масштабирования? Отметь все подходящие варианты.

А) Хранить все обработчики в одном файле `main.py` для простоты навигации
Б) Создать отдельный модуль для каждого HTTP-метода (GET, POST, PUT, DELETE)  
Д) Использовать один роутер для всех эндпоинтов без группировки
В) Разделить бизнес-логику, модели данных и вспомогательные функции по отдельным пакетам
Г) Вынести логические группы эндпоинтов в отдельные модули и подключить их через `APIRouter`

**Правильные ответы:** В, Г

**Проверяемый ОР:** Понимает. - Как организовать структуру проекта на FastAPI.



### Вопрос 14
Эндпоинт `PUT /profile/{id}` успешно обновил существующую запись. Какие статус-коды подходят для ответа? Отметь все подходящие варианты.

А) 201 Created
Б) 200 OK
В) 204 No Content
Г) 400 Bad Request

**Правильные ответы:** Б, В

**Проверяемый ОР:** Знает. - Принципы валидации данных в API.



### Вопрос 15
HTTP-запрос содержит несколько компонентов. Какие элементы обязательно входят в структуру HTTP-запроса? Отметь все подходящие варианты.

А) URL или путь
Б) Тело запроса (при необходимости)
В) HTTP-метод
Г) Заголовки

**Правильные ответы:** А, Б, В, Г

**Проверяемый ОР:** Знает. - Основные компоненты HTTP-запросов и ответов (методы, заголовки, тело запроса, коды ответов).



### Вопрос 16
Эндпоинт `POST /tasks` возвращает 500. Логи показывают ошибку сериализации. Какие шаги помогут подтвердить, что проблема в валидации входящих данных? Отметь все подходящие варианты.

А) Изменить HTTP-метод на GET
Б) Повторять запросы до успешного выполнения
В) Проверить схемы Pydantic и добавить валидацию входных данных
Г) Перейти на формат XML вместо JSON
Д) Валидировать JSON-данные перед сохранением дополнительно

**Правильные ответы:** В

**Проверяемый ОР:** Понимает. - Как реализовать API, взаимодействующее с фронтендом.



### Вопрос 17
Сервер не проверил данные формы и сохранил пустое поле `email` в базу данных. Какие последствия возможны?

А) Автоматической повторной отправкой формы браузером
Б) Некорректными данными в базе и ошибками при дальнейшей обработке
В) Автоматическим заполнением поля через FastAPI
Г) Ничего критического — пустая строка является валидным значением

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Как корректная обработка данных из форм улучшает взаимодействие пользователя с приложением и повышает безопасность.



### Вопрос 18
Почему важно разделять фронтенд и бэкенд в современных приложениях?

А) Разделение позволяет использовать разные технологии, масштабировать независимо и защищать бизнес-логику
Б) Разделение упрощает деплой, так как всё находится в одном месте
В) Разделение снижает зависимость между командами разработки
Г) Фронтенд и бэкенд обычно пишутся на одном языке для простоты

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Почему важно разделение фронтенда и бэкенда в современных приложениях.



### Вопрос 19
Эндпоинт FastAPI читает данные через `request.json()`, но клиент отправил запрос с заголовком `Content-Type: application/x-www-form-urlencoded`. Что вернёт FastAPI?

А) Автоматически переключится на чтение формы через `request.form()`
Б) Вернёт 422 или 400 из-за несоответствия формата тела
В) Попытается парсить тело как JSON и вернёт ошибку парсинга
Г) Автоматически преобразует форму в JSON и продолжит обработку

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Как обрабатывать входящие данные в FastAPI.



### Вопрос 20
Какие различия существуют между фронтендом и бэкендом в клиент-серверной архитектуре? Отметь все подходящие варианты.

А) Фронтенд занимается интерфейсом, бэкенд — данными и логикой
Б) Фронтенд и бэкенд используют одинаковые технологии
В) Фронтенд требует постоянного подключения к бэкенду для работы
Г) Фронтенд работает в браузере, бэкенд — на сервере

**Правильные ответы:** А, Г

**Проверяемый ОР:** Знает. - Различие между фронтендом и бэкендом, их задачи и роли.



### Вопрос 21
Эндпоинт должен принимать query-параметр `category` из URL `/items?category=books`. Какие объявления параметра функции-обработчика подходят? Отметь все подходящие варианты.

А) `def list_items(category: str = Path(...))`
Б) `def list_items(category: str | None = None)`
В) `def list_items(category: str = "/items?category")`
Г) `def list_items(category: str = Query(None))`

**Правильные ответы:** Б, Г

**Проверяемый ОР:** Понимает. - Разницу между query и path parameters и их назначение.



### Вопрос 22
Какие шаги необходимы для обеспечения корректной обработки JSON-ответов API клиентом? Отметь все подходящие варианты.

А) Добавлять подробные логи сервера в тело ответа для отладки
Б) Документировать API-контракт в Swagger/OpenAPI  
Д) Возвращать ошибки с описанием проблемных полей
В) Указывать заголовок `Content-Type: application/json`
Г) Использовать единый формат тела ответа, например `{ "data": ... }`

**Правильные ответы:** Б, В, Г

**Проверяемый ОР:** Понимает. - Как реализовать API, взаимодействующее с фронтендом.



### Вопрос 23
Фронтенд обращается к `/api/notifications`, а API возвращает 307 Redirect на `/auth/login`. Что это значит для сценария?

А) Прокси изменил порт
Б) Сервер просит авторизоваться
В) Сервер упал
Г) Клиент обращается к неверному домену

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Как клиент и сервер взаимодействуют через HTTP-запросы и ответы.



### Вопрос 24
В Jinja2-шаблоне используется переменная `{{ title }}`, но она не передана в контекст. Что увидит пользователь на странице?

А) В шаблоне отобразится текст `{{ title }}` как есть
Б) FastAPI выбросит исключение при рендеринге шаблона
В) В месте подстановки переменной будет пустая строка
Г) Jinja2 автоматически подставит значение по умолчанию

**Правильный ответ:** В

**Проверяемый ОР:** Понимает. - Как передавать данные в шаблоны через Jinja2.



### Вопрос 25
В FastAPI добавлен обработчик:
```python
@app.exception_handler(HTTPException)
async def http_exception_handler(request, exc):
    return JSONResponse(
        status_code=exc.status_code,
        content={"error": exc.detail, "request_id": request.state.request_id},
    )
```
Для чего используется такой обработчик?

А) Чтобы централизованно форматировать ответы об ошибках и добавлять идентификатор запроса
Б) Чтобы скрывать все ошибки от клиента
В) Чтобы логировать только успешные ответы
Г) Чтобы полностью отключить стандартные ответы FastAPI

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Как кастомные обработчики ошибок помогают улучшить стабильность API.



### Вопрос 26
Назови три базовых HTTP-метода, которые применяются для работы с данными в REST API.

**Правильный ответ:** `GET, POST, PUT` (принимается также `GET, POST, DELETE`)

**Проверяемый ОР:** Знает. - Основные компоненты HTTP-запросов и ответов (методы, заголовки, тело запроса, коды ответов).

