# Теоретическая часть контрольной работы. Вариант 5
## Разработка на Python. Основной

### Вопрос 1
Ты ведёшь ветку `feature/invoices`, а коллеги уже влили пару фиксов в `main`. Нужно синхронизировать ветку с актуальной версией `main` и сохранить линейную историю для упрощения ревью. Как правильно организовать процесс синхронизации?

А) Выполнить `git pull --rebase origin main` в ветке `feature/invoices`, чтобы подтянуть изменения из `main` и переписать твои коммиты поверх них
Б) Выполнить `git fetch`, переключиться в `main`, сделать `git pull`, затем вернуться в `feature/invoices` и выполнить `git merge main`
В) Выполнить `git pull` в ветке `feature/invoices`, чтобы автоматически объединить изменения через merge-коммит
Г) Выполнить `git merge origin/main` в ветке `feature/invoices`, чтобы создать merge-коммит без предварительного fetch

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Как структурировать процесс разработки с помощью Git: зачем нужны ветки, почему важна история коммитов и как правильно использовать rebase для упорядочивания истории изменений (*).



### Вопрос 2
Разработчик хочет проверить, кто последний правил файл `src/main.py` и когда это было. Какой командой вывести историю изменений по этому файлу?

**Правильный ответ:** `git log src/main.py` (принимаются варианты с флагами, например `git log --oneline src/main.py`)

**Проверяемый ОР:** Знает. - Основные команды Git - инициализация, коммиты, создание веток, слияние, rebase(*) и базовые понятия работы с удалёнными репозиториями.



### Вопрос 3
Перед слиянием ты решил проверить, совпадает ли твоя ветка `feature/report` с удалённой `origin/feature/report`. Нужно понять текущее состояние синхронизации. Что покажет `git status`, если всё хорошо?

А) `Your branch is ahead ...`
Б) `no branch`
В) `Your branch is behind ...`
Г) `Your branch is up to date with 'origin/feature/report'.`

**Правильный ответ:** Г

**Проверяемый ОР:** Знает. - Процесс работы в GitLab, MR, назначения SSH-ключей/токенов для доступа к проекту.



### Вопрос 4
Во время code review ты увидел лишний файл `logs/debug.log` в MR. Нужно убрать файл из отслеживания Git и предотвратить его повторное попадание в репозиторий. Как правильно организовать процесс?

А) Удалить файл из индекса командой `git rm --cached logs/debug.log`, добавить `logs/debug.log` в `.gitignore`, закоммитить изменения
Б) Выполнить `git reset --hard HEAD~1`, чтобы откатить последний коммит с файлом
В) Удалить файл из рабочей директории командой `rm logs/debug.log`, перезапустить Git
Г) Использовать `git stash` для временного сохранения файла, затем `git clean` для удаления

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Как структурировать процесс разработки с помощью Git: зачем нужны ветки, почему важна история коммитов и как правильно использовать rebase для упорядочивания истории изменений (*).



### Вопрос 5
Какой командой ты создаёшь ветку `experiment/api` без переключения на неё?

**Правильный ответ:** `git branch experiment/api`

**Проверяемый ОР:** Знает. - Основные команды Git - инициализация, коммиты, создание веток, слияние, rebase(*) и базовые понятия работы с удалёнными репозиториями.



### Вопрос 6
Ты нашёл ошибку в коммите, который уже отправлен в удалённый репозиторий, но MR ещё не принят. Нужно исправить ошибку, не нарушая процесс ревью. Как правильно организовать процесс исправления?

А) Переписать историю через `git push --force` без согласования с командой
Б) Сделать новый коммит с фиксом и отправить его в ту же ветку, чтобы изменения появились в MR
В) Оставить как есть и исправить в следующем коммите после merge
Г) Удалить ветку и создать новую с исправленным кодом

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Роль GitLab как платформы для совместной работы, хранения и ревью кода.



### Вопрос 7
В GitLab появился новый проект для команды, которая подключится через неделю. Нужно оформить README так, чтобы коллеги быстро включились в работу. Какие разделы помогут достичь этой цели? Отметь все подходящие варианты.

А) Ссылка на релевантную документацию или API
Б) Подробное описание внутренней архитектуры и всех технических деталей реализации без инструкций по запуску
В) Описание назначения проекта и основные команды запуска
Г) Инструкции по настройке окружения и установке зависимостей

**Правильные ответы:** А, В, Г

**Проверяемый ОР:** Понимает. - Роль GitLab как платформы для совместной работы, хранения и ревью кода.



### Вопрос 8
Фронтенд сделал `GET /api/v1/orders`, сервер ответил статус-кодом 200, но в теле ответа пустой массив `[]`. Нужно правильно интерпретировать этот результат. Что это означает?

А) Запрос выполнен успешно, просто в системе нет заказов — пустой массив это валидный результат
Б) Сервер сломался и не смог обработать запрос — это было бы 500
В) Ошибка на стороне клиента — это было бы 4xx
Г) Запрос неверный, нужно использовать POST вместо GET — это было бы 405

**Правильный ответ:** А

**Проверяемый ОР:** Знает. - Основные методы HTTP (GET, POST, PUT, DELETE) и значение статус-кодов в коммуникации клиент-сервер.



### Вопрос 9
Разработчик тестирует API в Postman и получает `401 Unauthorized` на запрос к защищённому эндпоинту. Нужно понять причину ошибки и правильно организовать процесс диагностики. Что нужно проверить в первую очередь? Отметь все подходящие варианты.

А) Корректность формата JSON в теле запроса
Б) Корректность токена или ключа авторизации
В) Наличие заголовка `Authorization` в запросе
Г) Срок действия токена, если он ограничен

**Правильные ответы:** Б, В, Г

**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.



### Вопрос 10
Разработчик проектирует REST API для управления пользователями. Нужно обновить e-mail пользователя по его идентификатору. Какой метод и путь соответствуют принципам REST?

А) PUT `/api/users/{user_id}/email` с телом `{"email": "new@example.com"}` — использовать PUT для обновления поля
Б) PATCH `/api/users/{user_id}` с телом `{"email": "new@example.com"}` — использовать PATCH для частичного обновления
В) GET `/api/users/email` с телом запроса — использовать GET для обновления
Г) POST `/api/users/email/update` с телом `{"user_id": 123, "email": "new@example.com"}` — использовать POST для обновления

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Почему выбор конкретного HTTP-метода соответствует определённой операции.



### Вопрос 11
Разработчик изучает структуру HTTP-ответа. Какие части входят в стандартный HTTP-ответ? Отметь все подходящие варианты.

А) Заголовки ответа
Б) HTTP-метод запроса
В) Тело ответа (если нужно)
Г) Стартовая строка со статус-кодом

**Правильные ответы:** А, В, Г

**Проверяемый ОР:** Знает. - Различия между запросом к серверу и ответом, а также структуру типичного REST-запроса и ответа.



### Вопрос 13
Разработчик отправляет `requests.post(url, data=form)`, но сервер возвращает ошибку, потому что ожидает JSON. Нужно исправить код так, чтобы данные передавались в формате JSON. Как правильно организовать процесс исправления?

А) Использовать `requests.get(url, json=form)`
Б) Использовать `requests.post(url, headers=form)`
В) Использовать `requests.post(url, json=form)`
Г) Использовать `requests.post(url, data=form, headers={"Content-Type": "application/json"})`

**Правильный ответ:** В

**Проверяемый ОР:** Понимает. - Как правильно формировать GET и POST запросы, передавать параметры и обрабатывать ошибки.



### Вопрос 14
API вернул JSON:
```json
{"data": [{"id": 1, "name": "Basic"}, {"id": 2, "name": "Pro"}]}
```
Как получить `name` второго тарифа из словаря `payload`?

**Правильный ответ:** `payload["data"][1]["name"]`

**Проверяемый ОР:** Понимает. - Почему JSON является предпочтительным форматом обмена данными в веб-разработке, и как вложенные структуры JSON отображаются в Python.



### Вопрос 15
После реорганизации модулей `services.py` и `models.py` начали импортировать друг друга, появилась ошибка `ImportError`. Какие шаги помогут устранить циклические импорты? Отметь все подходящие варианты.

А) Вынести общие типы или функции в отдельный модуль, чтобы разорвать цикл зависимостей
Б) Использовать абсолютные импорты вместо относительных, чтобы изменить порядок загрузки модулей
В) Переместить импорты внутрь функций, чтобы отложить загрузку модулей до момента их использования
Г) Переместить все импорты в конец файлов, чтобы модули загружались после определения всех функций

**Правильные ответы:** А, В

**Проверяемый ОР:** Понимает. - Как возникновение циклических импортов влияет на выполнение программы и как их избежать посредством правильного проектирования.



### Вопрос 16
Проект разбит на пакеты `api`, `domain`, `infra`. Какие преимущества даёт такое разделение для разработки и поддержки проекта? Отметь все подходящие варианты.

А) Помогает избегать конфликтов имён между модулями из разных областей ответственности
Б) Упрощает тестирование отдельных слоёв без поднятия всей системы
В) Ускоряет процесс разработки за счёт параллельной работы над разными пакетами
Г) Разделяет ответственность между компонентами и упрощает поддержку проекта

**Правильные ответы:** А, Б, Г

**Проверяемый ОР:** Знает. - Что такое модульность и как разделение кода на логические блоки способствует его поддержке и тестированию.



### Вопрос 17
В проекте появился модуль `random.py`, и теперь стандартный модуль `random` работает не так. Как исправить ситуацию?

А) Использовать относительный импорт для локального модуля: `from . import random`
Б) Переименовать свой модуль, чтобы не совпадал с системным модулем
В) Переместить локальный модуль в подпапку и использовать абсолютный импорт для стандартного модуля
Г) Использовать alias при импорте стандартного модуля: `import random as std_random`

**Правильный ответ:** Б, Г

**Проверяемый ОР:** Знает. - Проблемы, связанные с конфликтами имён при импорте и циклическими зависимостями между модулями.



### Вопрос 18
Какие шаги нужно выполнить в BotFather для регистрации бота? Отметь все подходящие варианты.

А) Активировать токен
Б) Получить токен
В) Команда `/newbot`
Г) Указать имя и username

**Правильные ответы:** Б, В, Г

**Проверяемый ОР:** Знает. - Как создать Telegram-бота через BotFather и получить токен для работы.



### Вопрос 19
Бот перестал отвечать на `/help`, но реагирует на остальные команды. Какие причины проверишь? Отметь все подходящие варианты.

А) Не падает ли хендлер из-за исключения
Б) Зарегистрирован ли обработчик команды
В) Запущен ли бот через `bot.polling()`
Г) Корректен ли токен

**Правильные ответы:** А, Б, Г

**Проверяемый ОР:** Понимает. - Как Telegram Bot API обеспечивает связь между пользователем и сервером, и почему важно правильно настроить обработку команд.



### Вопрос 20
Код бота разрастается. Как распределить модули? Отметь все подходящие варианты.

А) `handlers/commands.py` — команды
Б) `bot.py` — команды и текст, `external.py` — интеграции и хранилище
В) `handlers/messages.py` — текстовые сообщения
Г) `services/api_client.py` — интеграции

**Правильные ответы:** А, В, Г

**Проверяемый ОР:** Понимает. - Роль библиотек, упрощающих интеграцию с Telegram, и как они структурируют работу бота.



### Вопрос 21
Пользователь нажал inline-кнопку "Получить чек". Как на стороне бота определить, какую операцию запустить?

А) Прочитать `call.data` из параметра `call` в `@bot.callback_query_handler` и распарсить нужный идентификатор
Б) Передать идентификатор чека через параметр `message.text` и обработать в обработчике текстовых сообщений
В) Сохранить идентификатор чека в глобальной переменной и обработать нажатие в `@bot.message_handler()`
Г) Использовать `ReplyKeyboardMarkup` и обработать выбор через `@bot.message_handler()`

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Логику обработки callback-запросов для реализации многошаговых сценариев диалога, в том числе управление состоянием бота.



### Вопрос 22
Нужно построить сценарий «опрос → подтверждение → результат». Как хранить прогресс пользователя?

А) Использовать словарь `state[user_id] = текущий_шаг` для отслеживания шага каждого пользователя
Б) Использовать временные переменные внутри обработчика без сохранения между запросами
В) Хранить состояние только в `callback_data` без дополнительного хранилища
Г) Смотреть на историю сообщений и анализировать их порядок

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Логику обработки callback-запросов для реализации многошаговых сценариев диалога, в том числе управление состоянием бота.

