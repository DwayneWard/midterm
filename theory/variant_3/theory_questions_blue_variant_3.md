# Теоретическая часть контрольной работы. Вариант 3
## Разработка на Python. Основной

### Вопрос 1
Разработчик работает над фичей в ветке `feature/notifications`, пока в `main` появились новые коммиты. Нужно синхронизировать ветку с актуальной версией `main` и сохранить линейную историю для упрощения ревью. Как правильно организовать процесс синхронизации?

А) Выполнить `git merge origin/main` в ветке `feature/notifications`, чтобы создать merge-коммит без предварительного fetch
Б) Выполнить `git fetch`, переключиться в `main`, сделать `git pull`, затем вернуться в `feature/notifications` и выполнить `git merge main`
В) Выполнить `git fetch`, остаться в `feature/notifications` и выполнить `git rebase origin/main`, чтобы переписать коммиты поверх актуальной истории `main`
Г) Выполнить `git pull` в ветке `feature/notifications`, чтобы автоматически объединить изменения через merge-коммит

**Правильный ответ:** В

**Проверяемый ОР:** Понимает. - Как структурировать процесс разработки с помощью Git: зачем нужны ветки, почему важна история коммитов и как правильно использовать rebase для упорядочивания истории изменений (*).



### Вопрос 2
После `git pull` ты видишь сообщение `CONFLICT (content): Merge conflict in settings.py`. Какие действия приведут к корректному завершению merge? Отметь все подходящие варианты.

А) Закоммитить изменения после `git add`
Б) Вызвать `git merge --abort`, если нужно откатить merge
В) Сделать `git reset --hard origin/main` и продолжить merge
Г) Разрешить конфликты вручную и выполнить `git add settings.py`

**Правильные ответы:** А, Б, Г

**Проверяемый ОР:** Понимает. - Как структурировать процесс разработки с помощью Git: зачем нужны ветки, почему важна история коммитов и как правильно использовать rebase для упорядочивания истории изменений (*).



### Вопрос 3
Разработчик обнаружил, что в репозиторий попал файл `secrets.env` с секретными данными. Нужно удалить файл из отслеживания Git и предотвратить его повторное попадание в репозиторий. Как правильно организовать процесс?

А) Использовать `git stash` для временного сохранения файла, затем `git clean`
Б) Удалить файл из рабочей директории командой `rm secrets.env`, перезапустить Git
В) Выполнить `git reset --hard HEAD~1`, чтобы откатить последний коммит
Г) Удалить файл из индекса командой `git rm --cached secrets.env`, добавить `secrets.env` в `.gitignore`, закоммитить изменения

**Правильный ответ:** Г

**Проверяемый ОР:** Знает. - Основные команды Git - инициализация, коммиты, создание веток, слияние, rebase(*) и базовые понятия работы с удалёнными репозиториями.



### Вопрос 4
В GitLab нужно настроить репозиторий для работы по SSH с нового ноутбука. Какие шаги обязательны?

А) Добавить публичный ключ в профиль GitLab
Б) Сгенерировать пару ключей `ssh-keygen`
В) Проверить соединение командой `ssh -T git@git.culab.ru`
Г) Создать персональный токен в настройках GitLab

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Понимает. - Почему использование SSH/токенов обеспечивает безопасность при работе с удалёнными репозиториями.



### Вопрос 5
Коллега просит создать ветку `hotfix/login` для срочного исправления бага и сразу переключиться на неё. Напиши команду, которая создаст новую ветку и переключит рабочее дерево на неё.

**Правильный ответ:** `git switch -c hotfix/login` (принимаются `git checkout -b hotfix/login`)

**Проверяемый ОР:** Знает. - Основные команды Git - инициализация, коммиты, создание веток, слияние, rebase(*) и базовые понятия работы с удалёнными репозиториями.



### Вопрос 6
Фронтенд отправляет `POST /api/orders` для создания нового заказа, сервер отвечает `201 Created` и заголовком `Location: /api/orders/123`. Нужно правильно обработать ответ сервера. Что должен сделать клиент?

А) Игнорировать заголовок `Location` и считать, что заказ создан без дополнительных действий
Б) Повторить POST-запрос, чтобы убедиться, что заказ создан
В) Отправить DELETE-запрос на URL из заголовка `Location`, чтобы удалить созданный заказ
Г) Извлечь URL из заголовка `Location` и использовать его для получения или обновления созданного ресурса

**Правильный ответ:** Г

**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.



### Вопрос 7
Разработчик проектирует REST API для управления задачами. Нужно получить список всех задач. Какой HTTP-метод и URI соответствуют принципам REST?

А) PUT `/api/tasks` — использовать PUT для получения списка
Б) POST `/api/tasks` с телом `{"action": "list"}` — использовать POST для получения списка
В) GET `/api/tasks` — использовать GET для получения коллекции ресурсов
Г) GET `/api/tasks/list` — использовать GET с явным указанием действия в пути

**Правильный ответ:** В

**Проверяемый ОР:** Знает. - Основные методы HTTP (GET, POST, PUT, DELETE) и значение статус-кодов в коммуникации клиент-сервер.



### Вопрос 8
Разработчик отправляет `GET /api/profile?fields=name,email`. Какие элементы относятся к запросу? Отметь все подходящие варианты.

А) Query-параметр `fields`
Б) Путь `/api/profile`
В) Статус-код ответа `200 OK`
Г) Метод `GET`

**Правильные ответы:** А, Б, Г

**Проверяемый ОР:** Знает. - Различия между запросом к серверу и ответом, а также структуру типичного REST-запроса и ответа.



### Вопрос 9
На стенде тестирования Postman показывает `500 Internal Server Error`. Нужно понять причину ошибки и правильно организовать процесс диагностики. Какие гипотезы проверишь первыми? Отметь все подходящие варианты.

А) Попробовать отправить тот же запрос через другой HTTP-метод, чтобы обойти ошибку
Б) Логи сервера на наличие исключений и ошибок выполнения
В) Корректность тела запроса и заголовков, которые могли вызвать ошибку на сервере
Г) Наличие временных ограничений или таймаутов, которые могли привести к ошибке

**Правильные ответы:** Б, В, Г

**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.



### Вопрос 10
Разработчик отправляет форму с файлом `report.csv` и полем `email` через `requests.post`. После отправки сервер возвращает ошибку, что файл не получен. Нужно понять причину и правильно организовать процесс формирования запроса с файлом и текстовыми данными. Какой способ корректно передаст и файл, и текстовое поле в формате multipart/form-data?

А) `requests.post(url, json={"report": open("report.csv", "rb"), "email": user})` — использовать `json` для файла и текстовых полей, библиотека автоматически сериализует данные
Б) `requests.post(url, files={"report": open("report.csv", "rb")}, data={"email": user})` — использовать `files` для файла и `data` для текстовых полей, библиотека автоматически установит правильный заголовок
В) `requests.post(url, data={"report": open("report.csv", "rb"), "email": user})` — использовать только `data` для файла и текстовых полей, библиотека автоматически определит формат
Г) `requests.post(url, params={"report": open("report.csv", "rb"), "email": user})` — использовать `params` для файла и текстовых полей, данные будут переданы в URL

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Как правильно формировать GET и POST запросы, передавать параметры и обрабатывать ошибки.



### Вопрос 11
API вернул JSON:
```json
{"meta": {"total": 2}, "items": [{"id": 10}, {"id": 11}]}
```
Напиши выражение на Python, чтобы получить `11` из объекта `data`.

**Правильный ответ:** `data["items"][1]["id"]`

**Проверяемый ОР:** Понимает. - Почему JSON является предпочтительным форматом обмена данными в веб-разработке, и как вложенные структуры JSON отображаются в Python.



### Вопрос 12
Разработчик тестирует API в Postman и получает `400 Bad Request` на POST-запрос. Нужно понять причину ошибки и правильно организовать процесс диагностики. Какие шаги помогут выявить проблему? Отметь все подходящие варианты.

А) Изменить HTTP-метод на GET, чтобы обойти ошибку
Б) Убедиться, что все обязательные поля присутствуют в теле запроса
В) Проверить корректность формата JSON в теле запроса
Г) Проверить правильность типов данных для каждого поля

**Правильные ответы:** Б, В, Г

**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.



### Вопрос 13
Проект упёрся в проблему: модуль `analytics` импортирует `tasks`, а `tasks` импортирует `analytics`. Что произойдёт при запуске и как это исправить?

А) Возникнет циклический импорт; нужно вынести общую логику в отдельный модуль
Б) Python автоматически обнаружит цикл и загрузит модули в правильном порядке, всё будет работать
В) Можно переместить импорт внутрь функции, где он используется, чтобы отложить загрузку модуля
Г) Модули загрузятся дважды в разных контекстах, но программа выполнится

**Правильный ответ:** А, В

**Проверяемый ОР:** Понимает. - Как возникновение циклических импортов влияет на выполнение программы и как их избежать посредством правильного проектирования.



### Вопрос 14
Проект разделён на пакеты `core`, `api`, `infra`. Какие преимущества даёт такая структура для разработки и поддержки проекта? Отметь все подходящие варианты.

А) Улучшает читаемость и навигацию по проекту
Б) Позволяет переиспользовать модули в других частях приложения
В) Уменьшает риск конфликтов имён между модулями из разных пакетов
Г) Упрощает процесс компиляции Python-кода в байт-код

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Знает. - Что такое модульность и как разделение кода на логические блоки способствует его поддержке и тестированию.



### Вопрос 15
В проекте появился модуль `email.py`, и теперь импорт стандартного модуля `email` перестал работать. Как решить конфликт имён?

А) Использовать относительный импорт для локального модуля: `from . import email`
Б) Использовать alias при импорте стандартного модуля: `import email as std_email`
В) Переименовать свой модуль, чтобы не пересекаться со стандартной библиотекой
Г) Переместить локальный модуль в подпапку и использовать абсолютный импорт для стандартного модуля

**Правильный ответ:** Б, В

**Проверяемый ОР:** Знает. - Проблемы, связанные с конфликтами имён при импорте и циклическими зависимостями между модулями.



### Вопрос 16
Бизнес-логика разделена со слоем API. Какие преимущества даёт такое разделение для разработки и поддержки проекта? Отметь все подходящие варианты.

А) Упрощает переиспользование бизнес-логики в разных частях приложения
Б) Упрощает поддержку кода благодаря разделению ответственности между слоями
В) Упрощает тестирование отдельных слоёв без необходимости поднимать всю систему
Г) Ускоряет выполнение программы за счёт оптимизации интерпретатором

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Понимает. - Роль ясного разделения логики приложения для обеспечения масштабируемости и облегчения поддержки проекта.



### Вопрос 17
Какие шаги нужно выполнить в BotFather для создания нового бота? Отметь все подходящие варианты.

А) Отправить `/newbot`
Б) Получить токен
В) Указать имя и username
Г) Настроить описание бота и список команд

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Знает. - Как создать Telegram-бота через BotFather и получить токен для работы.



### Вопрос 18
После получения токена создан объект бота на `telebot`. Что нужно сделать, чтобы бот начал обрабатывать обновления?

А) Вызвать `bot.polling()` для запуска бота
Б) Настроить webhook и указать URL сервера
В) Зарегистрировать обработчики команд
Г) Отправить тестовое сообщение боту в Telegram

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Как Telegram Bot API обеспечивает связь между пользователем и сервером, и почему важно правильно настроить обработку команд.



### Вопрос 19
Бот отвечает на команды, но не реагирует на текстовые сообщения. Что проверишь первым?

А) Запущен ли бот через `bot.polling()`
Б) Корректно ли указан токен
В) Не падает ли бот из-за исключения
Г) Зарегистрирован ли обработчик для текстовых сообщений

**Правильные ответы:** В, Г

**Проверяемый ОР:** Понимает. - Как Telegram Bot API обеспечивает связь между пользователем и сервером, и почему важно правильно настроить обработку команд.



### Вопрос 20
Нужно отделить логику бота, работу с внешним API и хранилище. Как распределить модули?

А) `bot/handlers.py` — команды, `services/api_client.py` — интеграции, `repositories/storage.py` — работа с данными
Б) `main.py` — команды, `utils.py` — интеграции и хранилище
В) `handlers/commands.py` — команды, `handlers/messages.py` — текст, `handlers/api.py` — интеграции, `handlers/storage.py` — данные
Г) `bot.py` — команды и текст, `external.py` — интеграции и хранилище

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Роль библиотек, упрощающих интеграцию с Telegram, и как они структурируют работу бота.



### Вопрос 21
Пользователь нажал inline-кнопку, и нужно понять, какой шаг сценария он проходит. Как извлечь состояние?

**Правильный ответ:** Использовать `call.data` из параметра `call` в `@bot.callback_query_handler` (принимаются варианты с хранением состояния по `chat_id`)

**Проверяемый ОР:** Понимает. - Логику обработки callback-запросов для реализации многошаговых сценариев диалога, в том числе управление состоянием бота.



### Вопрос 22
Нужно построить сценарий оплаты: выбрать товар → подтвердить → оплатить. Как хранить прогресс пользователя?

А) Держать словарь `state[user_id] = "CONFIRM"` для отслеживания шага каждого пользователя
Б) Полагаться на историю сообщений в чате и анализировать их порядок
В) Использовать временные переменные внутри обработчика без сохранения между запросами
Г) Хранить состояние только в `callback_data` без дополнительного хранилища

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Логику обработки callback-запросов для реализации многошаговых сценариев диалога, в том числе управление состоянием бота.

