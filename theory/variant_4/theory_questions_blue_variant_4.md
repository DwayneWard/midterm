# Теоретическая часть контрольной работы. Вариант 4
## Разработка на Python. Основной

### Вопрос 1
Перед релизом ты сравниваешь ветку `feature/billing` с `main` и замечаешь, что твоя ветка отстаёт на три коммита. Нужно синхронизировать ветку с актуальной версией `main` и сохранить линейную историю для упрощения ревью. Как правильно организовать процесс синхронизации?

А) Выполнить `git fetch`, переключиться в `main`, сделать `git pull`, затем вернуться в `feature/billing` и выполнить `git merge main`  
Б) Выполнить `git fetch`, остаться в `feature/billing` и выполнить `git rebase origin/main`, чтобы переписать коммиты поверх актуальной истории `main`  
В) Выполнить `git pull` в ветке `feature/billing`, чтобы автоматически объединить изменения через merge-коммит  
Г) Выполнить `git merge origin/main` в ветке `feature/billing`, чтобы создать merge-коммит без предварительного fetch

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Как структурировать процесс разработки с помощью Git: зачем нужны ветки, почему важна история коммитов и как правильно использовать rebase для упорядочивания истории изменений (*).

### Вопрос 2
Разработчик начинает работу над новой фичей `feature/reports` и хочет создать ветку, сразу переключившись на неё. Какая команда Git создаёт новую ветку и сразу переключает рабочее дерево на неё? Напиши одну возможную команду.

**Правильный ответ:** `git checkout -b feature/reports` (принимаются варианты `git switch -c feature/reports`, `git branch feature/reports && git checkout feature/reports`)

**Проверяемый ОР:** Знает. - Основные команды Git - инициализация, коммиты, создание веток, слияние, rebase(*) и базовые понятия работы с удалёнными репозиториями.

### Вопрос 3
Разработчик хочет проверить, кто последний правил файл `README.md` и когда это было. Какой командой вывести историю изменений по этому файлу?

**Правильный ответ:** `git log README.md` (принимаются варианты с флагами, например `git log --oneline README.md`)

**Проверяемый ОР:** Знает. - Основные команды Git - инициализация, коммиты, создание веток, слияние, rebase(*) и базовые понятия работы с удалёнными репозиториями.

### Вопрос 4
Команда переезжает на SSH для работы с GitLab. Разработчик настраивает доступ к репозиторию по SSH с нового ноутбука. Как правильно организовать процесс настройки SSH-доступа?

А) Сгенерировать пару ключей командой `ssh-keygen`, скопировать приватный ключ в профиль GitLab, проверить соединение командой `ssh -T git@gitlab.com`  
Б) Сгенерировать пару ключей командой `ssh-keygen`, добавить публичный ключ в профиль GitLab, убедиться что ключ загружен в `ssh-agent`, проверить соединение командой `ssh -T git@gitlab.com`  
В) Сгенерировать пару ключей командой `ssh-keygen`, сохранить оба ключа в файл `.ssh/config`, проверить соединение командой `ssh -T git@gitlab.com`  
Г) Сгенерировать пару ключей командой `ssh-keygen`, добавить приватный ключ в профиль GitLab, проверить соединение командой `git push`

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Почему использование SSH/токенов обеспечивает безопасность при работе с удалёнными репозиториями.

### Вопрос 5
Ты создаёшь новый локальный Git репозиторий. Какие шаги помогут подготовить основную структуру? Отметь все подходящие варианты.

А) `git init`  
Б) Добавить `README.md` с описанием  
В) Создать `.gitignore` под используемые инструменты  
Г) Создать файлы и папки проекта до того, как сделать первый коммит 

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Понимает. - Роль GitLab как платформы для совместной работы, хранения и ревью кода.

### Вопрос 6
При `git push` ты получил ошибку `non-fast-forward`. Нужно понять причину и правильно организовать процесс синхронизации. Что это значит и как поступить?

А) Удалённая ветка содержит новые коммиты; выполнить `git pull` или `git fetch` с последующим merge/rebase, разрешить конфликты и повторить push  
Б) GitLab отключил доступ; проверить настройки SSH-ключей или токенов в профиле  
В) Репозиторий повреждён; пересоздать репозиторий заново  
Г) Нужно сменить имя ветки; переименовать локальную ветку и повторить push

**Правильный ответ:** А

**Проверяемый ОР:** Знает. - Основные команды Git - инициализация, коммиты, создание веток, слияние, rebase(*) и базовые понятия работы с удалёнными репозиториями.

### Вопрос 7
Разработчик проектирует REST-эндпоинт для создания заявки. При успешном создании ресурса нужно отправить корректный статус-код. Какой статус-код соответствует успешному созданию нового ресурса?

А) 200  
Б) 201  
В) 204  
Г) 500

**Правильный ответ:** Б

**Проверяемый ОР:** Знает. - Основные методы HTTP (GET, POST, PUT, DELETE) и значение статус-кодов в коммуникации клиент-сервер.

### Вопрос 8
Система мониторинга жалуется на частые `400 Bad Request` при `POST /api/payments`. Нужно понять причину ошибки и правильно организовать процесс диагностики. Какие гипотезы проверишь в первую очередь? Отметь все подходящие варианты.

А) Проверить корректность формата JSON в теле запроса и наличие всех обязательных полей  
Б) Убедиться, что заголовок `Content-Type` установлен правильно (например, `application/json`)  
В) Проверить правильность типов данных для каждого поля в теле запроса  
Г) Проверить корректность URL и параметров пути запроса

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.

### Вопрос 9
Разработчик проектирует REST API для управления заказами. Нужно получить данные о конкретном заказе по его идентификатору. Какой URI и метод соответствуют принципам REST?

А) GET `/api/orders/{order_id}` — использовать GET для получения ресурса по идентификатору в пути  
Б) GET `/api/orders/get?id={order_id}` — использовать GET с идентификатором в query-параметре  
В) POST `/api/orders/get` с телом `{"id": order_id}` — использовать POST для получения данных  
Г) PUT `/api/orders/{order_id}` — использовать PUT для получения данных

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Почему выбор конкретного HTTP-метода соответствует определённой операции.

### Вопрос 10
Разработчик изучает структуру HTTP-запроса. Какие элементы обязательно присутствуют в HTTP-запросе? Отметь все подходящие варианты.

А) Стартовая строка с методом и путём  
Б) Заголовки (минимум Host)  
В) Тело запроса (если нужно, например для POST)  
Г) Статус-код ответа

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Знает. - Различия между запросом к серверу и ответом, а также структуру типичного REST-запроса и ответа.

### Вопрос 11
Разработчик тестирует API в Postman и получает `503 Service Unavailable` на запрос к сервису. Нужно правильно интерпретировать этот статус-код и организовать обработку ошибки. Что означает этот код и как правильно обработать ситуацию?

А) Ошибка на стороне сервера; сервер временно недоступен, перегружен или на техническом обслуживании — нужно повторить запрос позже или обработать ошибку в коде  
Б) Ошибка на стороне сервера; сервер сломан и требует немедленного исправления разработчиками API — клиент должен прекратить отправку запросов  
В) Ошибка на стороне сервера; сервер временно недоступен, но это нормальная ситуация — можно игнорировать ошибку и продолжать работу  
Г) Ошибка на стороне клиента; нужно исправить формат запроса и повторить его немедленно

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.

### Вопрос 12
Сервис аналитики требует авторизованный запрос, чтобы получить вторую страницу отчёта. Сформируй запрос с помощью `requests`, который передаст `page=2` и заголовок `Authorization: Bearer TOKEN`.

**Правильный ответ:** `requests.get(url, params={"page": 2}, headers={"Authorization": "Bearer TOKEN"})`

**Проверяемый ОР:** Понимает. - Как правильно формировать GET и POST запросы, передавать параметры и обрабатывать ошибки (например, таймауты или неверные статус-коды).

### Вопрос 13
Разработчик использует `requests.get` и ожидает получить JSON, но при вызове `response.json()` возникает `JSONDecodeError`. Нужно правильно обработать эту ситуацию. Какие действия помогут диагностировать и исправить проблему? Отметь все подходящие варианты.

А) Проверить заголовок `Content-Type` ответа, чтобы убедиться, что сервер вернул JSON  
Б) Обернуть парсинг в try/except и показать понятное сообщение пользователю  
В) Игнорировать ошибку и продолжить выполнение программы

**Правильные ответы:** А, Б

**Проверяемый ОР:** Понимает. - Логику обработки ошибок при запросах и как корректная обработка может предотвратить сбои в работе приложения.

### Вопрос 14
Ты отправляешь POST-запрос: `requests.post(url, json={"name": "Anna"})`. Как получить текст ответа и статус-код? Напиши выражение.

**Правильный ответ:** `response = requests.post(...); print(response.status_code, response.text)` (принимаются эквиваленты)

**Проверяемый ОР:** Понимает. - Как правильно формировать GET и POST запросы, передавать параметры и обрабатывать ошибки (например, таймауты или неверные статус-коды).

### Вопрос 15
API вернул:
```json
{"user": {"profile": {"emails": ["work@example.com", "home@example.com"]}}}
```
Как получить значение `"home@example.com"` из словаря `data`?

**Правильный ответ:** `data["user"]["profile"]["emails"][1]`

**Проверяемый ОР:** Понимает. - Почему JSON является предпочтительным форматом обмена данными в веб-разработке, и как вложенные структуры JSON отображаются в Python.

### Вопрос 16
После рефакторинга `utils.py` и `api.py` начали импортировать друг друга. Чем опасны такие циклы?

А) Модули могут загрузиться частично и вызывать `ImportError` при попытке использовать функции из неполностью загруженного модуля  
Б) Python автоматически обнаружит цикл и загрузит модули в правильном порядке, поэтому опасности нет  
В) Код выполнится, но функции будут вызываться в неправильном порядке из-за особенностей загрузки модулей  
Г) Модули загрузятся дважды, что приведёт к дублированию кода в памяти, но программа продолжит работу

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Как возникновение циклических импортов влияет на выполнение программы и как их избежать посредством правильного проектирования.

### Вопрос 17
В проекте есть файл `email.py`, а нужно использовать стандартный модуль `email`. Какие способы помогут избежать конфликтов имён модулей? Отметь все подходящие варианты.

А) Переименовать свой файл, чтобы не совпадал с системным модулем  
Б) Переместить локальный модуль в подпапку и использовать абсолютный импорт для стандартного модуля с alias: `import email as std_email`  
В) Использовать alias при импорте стандартного модуля без перемещения локального файла: `import email as std_email`  
Г) Использовать относительный импорт для локального модуля: `from . import email`

**Правильные ответы:** А, Б

**Проверяемый ОР:** Знает. - Проблемы, связанные с конфликтами имён при импорте и циклическими зависимостями между модулями.

### Вопрос 18
Какие действия нужно выполнить в BotFather для создания Telegram-бота? Отметь все подходящие варианты.

А) /newbot  
Б) Придумать имя и username  
В) Получить токен  
Г) Выбрать режим запуска в настройках телеграм бота

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Знает. - Как создать Telegram-бота через BotFather и получить токен для работы.

### Вопрос 19
Бот должен отвечать на команды `/start` и `/help`, а также реагировать на произвольный текст. Какие обработчики нужно зарегистрировать?

А) Зарегистрировать три разных обработчика - сначала для команд `/start` и `/help`, затем для текста
Б) Один обработчик с условиями внутри функции для всех типов сообщений  
В) Обработчик только на `/help` и общий обработчик для остальных сообщений, `/start` обрабатывается по умолчанию
Г) Зарегистрировать обработчики - сначала для текста, затем для команд

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Как Telegram Bot API обеспечивает связь между пользователем и сервером, и почему важно правильно настроить обработку команд.

### Вопрос 20
Пользователь вводит одно и то же сообщение много раз, а бот должен предлагать заготовленные варианты. Какие интерфейсы Telegram помогут?

А) Reply-клавиатура для часто используемых действий  
Б) Inline-кнопки для контекстных ответов  
В) Стандартный текстовый ввод без дополнительных элементов  
Г) Достаточно только команд

**Правильные ответы:** А, Б

**Проверяемый ОР:** Знает. - Что такое inline-кнопки и клавиатуры в Telegram-ботах и для чего они используются.

### Вопрос 21
Пользователь нажал inline-кнопку «Продлить подписку». Как обработать событие на стороне бота?

А) Получить `callback_query` и прочитать `callback_data` через `@bot.callback_query_handler`  
Б) Сохранить идентификатор подписки в глобальной переменной и обработать нажатие в `@bot.message_handler()`  
В) Использовать `ReplyKeyboardMarkup` и обработать выбор через `@bot.message_handler()`  
Г) Передать идентификатор подписки через параметр `message.text` и обработать в обработчике текстовых сообщений

**Правильный ответ:** А

**Проверяемый ОР:** Знает. - Принципы работы callback-запросов: как бот получает данные от нажатых кнопок и как обрабатываются такие запросы.

### Вопрос 22
Нужно построить многошаговый сценарий: выбрать услугу → указать дату → подтвердить. Как сохранять состояние пользователя?

А) Держать словарь `state[chat_id] = step` для отслеживания шага каждого пользователя  
Б) Смотреть на историю сообщений и анализировать их порядок  
В) Хранить состояние только в `callback_data` без дополнительного хранилища  
Г) Использовать временные переменные внутри обработчика без сохранения между запросами

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Логику обработки callback-запросов для реализации многошаговых сценариев диалога, в том числе управление состоянием бота.

