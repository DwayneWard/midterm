# Теоретическая часть контрольной работы. Вариант 4
## Разработка на Python. Основной

### Вопрос 1
Перед релизом ты сравниваешь ветку `feature/billing` с `main` и замечаешь, что твоя ветка отстаёт на три коммита. Нужно синхронизировать ветку с актуальной версией `main` и сохранить линейную историю для упрощения ревью. Как правильно организовать процесс синхронизации?
А) Выполнить `git fetch`, переключиться в `main`, сделать `git pull`, затем вернуться в `feature/billing` и выполнить `git merge main`
В) Выполнить `git fetch`, остаться в `feature/billing` и выполнить `git rebase origin/main`, чтобы переписать коммиты поверх актуальной истории `main`
Б) Выполнить `git pull` в ветке `feature/billing`, чтобы автоматически объединить изменения через merge-коммит
Г) Выполнить `git merge origin/main` в ветке `feature/billing`, чтобы создать merge-коммит без предварительного fetch

**Правильный ответ:** В### Вопрос 2
Разработчик начинает работу над новой фичей `feature/reports` и хочет создать ветку, сразу переключившись на неё. Какая команда Git создаёт новую ветку и сразу переключает рабочее дерево на неё? Напиши одну возможную команду.

**Правильный ответ:** `git checkout -b feature/reports` (принимаются варианты `git switch -c feature/reports`, `git branch feature/reports && git checkout feature/reports`)

**Проверяемый ОР:** Знает. - Основные команды Git - инициализация, коммиты, создание веток, слияние, rebase(*) и базовые понятия работы с удалёнными репозиториями.

### Вопрос 3
Разработчик хочет проверить, кто последний правил файл `README.md` и когда это было. Какой командой вывести историю изменений по этому файлу?

**Правильный ответ:** `git log README.md` (принимаются варианты с флагами, например `git log --oneline README.md`)

**Проверяемый ОР:** Знает. - Основные команды Git - инициализация, коммиты, создание веток, слияние, rebase(*) и базовые понятия работы с удалёнными репозиториями.

### Вопрос 4
Команда переезжает на SSH для работы с GitLab. Разработчик настраивает доступ к репозиторию по SSH с нового ноутбука. Как правильно организовать процесс настройки SSH-доступа?
Б) Сгенерировать пару ключей командой `ssh-keygen`, скопировать приватный ключ в профиль GitLab, проверить соединение командой `ssh -T git@gitlab.com`
В) Сгенерировать пару ключей командой `ssh-keygen`, добавить публичный ключ в профиль GitLab, убедиться что ключ загружен в `ssh-agent`, проверить соединение командой `ssh -T git@gitlab.com`
А) Сгенерировать пару ключей командой `ssh-keygen`, сохранить оба ключа в файл `.ssh/config`, проверить соединение командой `ssh -T git@gitlab.com`
Г) Сгенерировать пару ключей командой `ssh-keygen`, добавить приватный ключ в профиль GitLab, проверить соединение командой `git push`

**Правильный ответ:** В### Вопрос 5
Ты создаёшь новый локальный Git репозиторий. Какие шаги помогут подготовить основную структуру? Отметь все подходящие варианты.
Г) `git init`
В) Добавить `README.md` с описанием
А) Создать `.gitignore` под используемые инструменты
Б) Создать файлы и папки проекта до того, как сделать первый коммит 
**Правильные ответы:** А, Б, В
**Проверяемый ОР:** Понимает. - Роль GitLab как платформы для совместной работы, хранения и ревью кода.
**Правильные ответы:** Б, В, Г
**Проверяемый ОР:** Понимает. - Роль GitLab как платформы для совместной работы, хранения и ревью кода.

**Правильные ответы:** А, Б, В
**Проверяемый ОР:** Понимает. - Роль GitLab как платформы для совместной работы, хранения и ревью кода.

**Правильные ответы:** Б, В, Г

**Проверяемый ОР:** Понимает. - Роль GitLab как платформы для совместной работы, хранения и ревью кода.

### Вопрос 6
При `git push` ты получил ошибку `non-fast-forward`. Нужно понять причину и правильно организовать процесс синхронизации. Что это значит и как поступить?
В) Удалённая ветка содержит новые коммиты; выполнить `git pull` или `git fetch` с последующим merge/rebase, разрешить конфликты и повторить push
А) GitLab отключил доступ; проверить настройки SSH-ключей или токенов в профиле
Б) Репозиторий повреждён; пересоздать репозиторий заново
Г) Нужно сменить имя ветки; переименовать локальную ветку и повторить push

**Правильный ответ:** В### Вопрос 7
Разработчик проектирует REST-эндпоинт для создания заявки. При успешном создании ресурса нужно отправить корректный статус-код. Какой статус-код соответствует успешному созданию нового ресурса?
Г) 200
Б) 201
А) 204
В) 500

**Правильный ответ:** Б### Вопрос 8
Система мониторинга жалуется на частые `400 Bad Request` при `POST /api/payments`. Нужно понять причину ошибки и правильно организовать процесс диагностики. Какие гипотезы проверишь в первую очередь? Отметь все подходящие варианты.
В) Проверить корректность формата JSON в теле запроса и наличие всех обязательных полей
А) Убедиться, что заголовок `Content-Type` установлен правильно (например, `application/json`)
Б) Проверить правильность типов данных для каждого поля в теле запроса
Г) Проверить корректность URL и параметров пути запроса
**Правильные ответы:** А, Б, В
**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.
**Правильные ответы:** А, В, Г
**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.

**Правильные ответы:** А, В, Г
**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.

**Правильные ответы:** А, В, Г

**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.

### Вопрос 9
Разработчик проектирует REST API для управления заказами. Нужно получить данные о конкретном заказе по его идентификатору. Какой URI и метод соответствуют принципам REST?
В) GET `/api/orders/{order_id}` — использовать GET для получения ресурса по идентификатору в пути
Б) GET `/api/orders/get?id={order_id}` — использовать GET с идентификатором в query-параметре
А) POST `/api/orders/get` с телом `{"id": order_id}` — использовать POST для получения данных
Г) PUT `/api/orders/{order_id}` — использовать PUT для получения данных

**Правильный ответ:** В### Вопрос 10
Разработчик изучает структуру HTTP-запроса. Какие элементы обязательно присутствуют в HTTP-запросе? Отметь все подходящие варианты.
В) Стартовая строка с методом и путём
Г) Заголовки (минимум Host)
Б) Тело запроса (если нужно, например для POST)
А) Статус-код ответа
**Правильные ответы:** А, Б, В
**Проверяемый ОР:** Знает. - Различия между запросом к серверу и ответом, а также структуру типичного REST-запроса и ответа.
**Правильные ответы:** А, Б, Г
**Проверяемый ОР:** Знает. - Различия между запросом к серверу и ответом, а также структуру типичного REST-запроса и ответа.

**Правильные ответы:** А, Б, Г
**Проверяемый ОР:** Знает. - Различия между запросом к серверу и ответом, а также структуру типичного REST-запроса и ответа.

**Правильные ответы:** А, Б, Г

**Проверяемый ОР:** Знает. - Различия между запросом к серверу и ответом, а также структуру типичного REST-запроса и ответа.

### Вопрос 11
Разработчик тестирует API в Postman и получает `503 Service Unavailable` на запрос к сервису. Нужно правильно интерпретировать этот статус-код и организовать обработку ошибки. Что означает этот код и как правильно обработать ситуацию?
Б) Ошибка на стороне сервера; сервер временно недоступен, перегружен или на техническом обслуживании — нужно повторить запрос позже или обработать ошибку в коде
А) Ошибка на стороне сервера; сервер сломан и требует немедленного исправления разработчиками API — клиент должен прекратить отправку запросов
Г) Ошибка на стороне сервера; сервер временно недоступен, но это нормальная ситуация — можно игнорировать ошибку и продолжать работу
В) Ошибка на стороне клиента; нужно исправить формат запроса и повторить его немедленно

**Правильный ответ:** Б### Вопрос 12
Сервис аналитики требует авторизованный запрос, чтобы получить вторую страницу отчёта. Сформируй запрос с помощью `requests`, который передаст `page=2` и заголовок `Authorization: Bearer TOKEN`.

**Правильный ответ:** `requests.get(url, params={"page": 2}, headers={"Authorization": "Bearer TOKEN"})`

**Проверяемый ОР:** Понимает. - Как правильно формировать GET и POST запросы, передавать параметры и обрабатывать ошибки (например, таймауты или неверные статус-коды).

### Вопрос 13
Разработчик использует `requests.get` и ожидает получить JSON, но при вызове `response.json()` возникает `JSONDecodeError`. Нужно правильно обработать эту ситуацию. Какие действия помогут диагностировать и исправить проблему? Отметь все подходящие варианты.
Б) Проверить заголовок `Content-Type` ответа, чтобы убедиться, что сервер вернул JSON
А) Обернуть парсинг в try/except и показать понятное сообщение пользователю
В) Игнорировать ошибку и продолжить выполнение программы
**Правильные ответы:** А, Б
**Проверяемый ОР:** Понимает. - Логику обработки ошибок при запросах и как корректная обработка может предотвратить сбои в работе приложения.
**Правильные ответы:** А, В
**Проверяемый ОР:** Понимает. - Логику обработки ошибок при запросах и как корректная обработка может предотвратить сбои в работе приложения.

**Правильные ответы:** А, В
**Проверяемый ОР:** Понимает. - Логику обработки ошибок при запросах и как корректная обработка может предотвратить сбои в работе приложения.

**Правильные ответы:** А, В

**Проверяемый ОР:** Понимает. - Логику обработки ошибок при запросах и как корректная обработка может предотвратить сбои в работе приложения.

### Вопрос 14
Ты отправляешь POST-запрос: `requests.post(url, json={"name": "Anna"})`. Как получить текст ответа и статус-код? Напиши выражение.

**Правильный ответ:** `response = requests.post(...); print(response.status_code, response.text)` (принимаются эквиваленты)

**Проверяемый ОР:** Понимает. - Как правильно формировать GET и POST запросы, передавать параметры и обрабатывать ошибки (например, таймауты или неверные статус-коды).

### Вопрос 15
API вернул:
```json
{"user": {"profile": {"emails": ["work@example.com", "home@example.com"]}}}
```
Как получить значение `"home@example.com"` из словаря `data`?

**Правильный ответ:** `data["user"]["profile"]["emails"][1]`

**Проверяемый ОР:** Понимает. - Почему JSON является предпочтительным форматом обмена данными в веб-разработке, и как вложенные структуры JSON отображаются в Python.

### Вопрос 16
После рефакторинга `utils.py` и `api.py` начали импортировать друг друга. Чем опасны такие циклы?
А) Модули могут загрузиться частично и вызывать `ImportError` при попытке использовать функции из неполностью загруженного модуля
Г) Python автоматически обнаружит цикл и загрузит модули в правильном порядке, поэтому опасности нет
В) Код выполнится, но функции будут вызываться в неправильном порядке из-за особенностей загрузки модулей
Б) Модули загрузятся дважды, что приведёт к дублированию кода в памяти, но программа продолжит работу

**Правильный ответ:** А### Вопрос 17
В проекте есть файл `email.py`, а нужно использовать стандартный модуль `email`. Какие способы помогут избежать конфликтов имён модулей? Отметь все подходящие варианты.
А) Переименовать свой файл, чтобы не совпадал с системным модулем
Г) Переместить локальный модуль в подпапку и использовать абсолютный импорт для стандартного модуля с alias: `import email as std_email`
Б) Использовать alias при импорте стандартного модуля без перемещения локального файла: `import email as std_email`
В) Использовать относительный импорт для локального модуля: `from . import email`
**Правильные ответы:** А, Б
**Проверяемый ОР:** Знает. - Проблемы, связанные с конфликтами имён при импорте и циклическими зависимостями между модулями.
**Правильные ответы:** Б, В
**Проверяемый ОР:** Знает. - Проблемы, связанные с конфликтами имён при импорте и циклическими зависимостями между модулями.

**Правильные ответы:** А, Б
**Проверяемый ОР:** Знает. - Проблемы, связанные с конфликтами имён при импорте и циклическими зависимостями между модулями.

**Правильные ответы:** Б, В

**Проверяемый ОР:** Знает. - Проблемы, связанные с конфликтами имён при импорте и циклическими зависимостями между модулями.

### Вопрос 18
Какие действия нужно выполнить в BotFather для создания Telegram-бота? Отметь все подходящие варианты.
Г) /newbot
А) Придумать имя и username
Б) Получить токен
В) Выбрать режим запуска в настройках телеграм бота
**Правильные ответы:** А, Б, В
**Проверяемый ОР:** Знает. - Как создать Telegram-бота через BotFather и получить токен для работы.
**Правильные ответы:** Б, В, Г
**Проверяемый ОР:** Знает. - Как создать Telegram-бота через BotFather и получить токен для работы.

**Правильные ответы:** Б, В, Г
**Проверяемый ОР:** Знает. - Как создать Telegram-бота через BotFather и получить токен для работы.

**Правильные ответы:** Б, В, Г

**Проверяемый ОР:** Знает. - Как создать Telegram-бота через BotFather и получить токен для работы.

### Вопрос 19
Бот должен отвечать на команды `/start` и `/help`, а также реагировать на произвольный текст. Какие обработчики нужно зарегистрировать?
Г) Зарегистрировать три разных обработчика - сначала для команд `/start` и `/help`, затем для текста
А) Один обработчик с условиями внутри функции для всех типов сообщений
В) Обработчик только на `/help` и общий обработчик для остальных сообщений, `/start` обрабатывается по умолчанию
Б) Зарегистрировать обработчики - сначала для текста, затем для команд

**Правильный ответ:** Г### Вопрос 20
Пользователь вводит одно и то же сообщение много раз, а бот должен предлагать заготовленные варианты. Какие интерфейсы Telegram помогут?
В) Reply-клавиатура для часто используемых действий
Б) Inline-кнопки для контекстных ответов
Г) Стандартный текстовый ввод без дополнительных элементов
А) Достаточно только команд
**Правильные ответы:** А, Б
**Проверяемый ОР:** Знает. - Что такое inline-кнопки и клавиатуры в Telegram-ботах и для чего они используются.
**Правильные ответы:** А, В
**Проверяемый ОР:** Знает. - Что такое inline-кнопки и клавиатуры в Telegram-ботах и для чего они используются.

**Правильные ответы:** В, Г
**Проверяемый ОР:** Знает. - Что такое inline-кнопки и клавиатуры в Telegram-ботах и для чего они используются.

**Правильные ответы:** А, В

**Проверяемый ОР:** Знает. - Что такое inline-кнопки и клавиатуры в Telegram-ботах и для чего они используются.

### Вопрос 21
Пользователь нажал inline-кнопку «Продлить подписку». Как обработать событие на стороне бота?
Б) Получить `callback_query` и прочитать `callback_data` через `@bot.callback_query_handler`
В) Сохранить идентификатор подписки в глобальной переменной и обработать нажатие в `@bot.message_handler()`
Г) Использовать `ReplyKeyboardMarkup` и обработать выбор через `@bot.message_handler()`
А) Передать идентификатор подписки через параметр `message.text` и обработать в обработчике текстовых сообщений

**Правильный ответ:** Б### Вопрос 22
Нужно построить многошаговый сценарий: выбрать услугу → указать дату → подтвердить. Как сохранять состояние пользователя?
Г) Держать словарь `state[chat_id] = step` для отслеживания шага каждого пользователя
В) Смотреть на историю сообщений и анализировать их порядок
А) Хранить состояние только в `callback_data` без дополнительного хранилища
Б) Использовать временные переменные внутри обработчика без сохранения между запросами

**Правильный ответ:** Г