# Теоретическая часть контрольной работы
## Вариант 1

**Дисциплина:** Разработка на Python. Основной

**Фамилия, Имя:** _________________________________

---

### Вопрос 1
Разработчик работает над фичей в ветке `feature/auth`, пока в `main` появились новые коммиты. Нужно синхронизировать ветку с актуальной версией `main` и сохранить линейную историю для упрощения ревью. Как правильно организовать процесс синхронизации?

- [ ] Выполнить `git pull` в ветке `feature/auth`, чтобы автоматически объединить изменения через merge-коммит
- [ ] Выполнить `git merge origin/main` в ветке `feature/auth`, чтобы создать merge-коммит без предварительного fetch
- [ ] Выполнить `git fetch`, остаться в `feature/auth` и выполнить `git rebase origin/main`, чтобы переписать коммиты поверх актуальной истории `main`
- [ ] Выполнить `git fetch`, переключиться в `main`, сделать `git pull`, затем вернуться в `feature/auth` и выполнить `git merge main`

### Вопрос 2
Разработчик пытается выполнить `git push origin feature/ui` и получает сообщение `Permission denied (publickey). fatal: Could not read from remote repository.`. Он настраивает доступ к репозиторию GitLab по SSH. Как правильно организовать процесс настройки SSH-доступа?

- [ ] Сгенерировать пару ключей командой `ssh-keygen`, скопировать приватный ключ в профиль GitLab, проверить соединение командой `ssh -T git@gitlab.com`
- [ ] Сгенерировать пару ключей командой `ssh-keygen`, добавить публичный ключ в профиль GitLab, убедиться что ключ загружен в `ssh-agent`, проверить соединение командой `ssh -T git@gitlab.com`
- [ ] Сгенерировать пару ключей командой `ssh-keygen`, сохранить оба ключа в файл `.ssh/config`, проверить соединение командой `ssh -T git@gitlab.com`
- [ ] Сгенерировать пару ключей командой `ssh-keygen`, добавить приватный ключ в профиль GitLab, проверить соединение командой `git push`

### Вопрос 3
Команда из пяти разработчиков ведёт параллельную работу над несколькими фичами. Для работы важно: в ветке `main` всегда рабочая версия, видна история изменений, фичи разрабатываются параллельно, ревью проходит до попадания кода в `main`. Как команде нужно организовать процесс работы с проектом в GitLab?

- [ ] Каждый разработчик клонирует репозиторий, создаёт отдельную ветку под свою задачу, коммитит изменения в этой ветке и пушит её в GitLab; когда задача готова, открывает Merge Request из своей ветки в `main`
- [ ] Каждый разработчик клонирует репозиторий, создаёт отдельную ветку под свою задачу, работает локально без пуша в GitLab; когда задача готова, делает один коммит, пушит ветку и открывает Merge Request из своей ветки в `main`
- [ ] Каждый разработчик клонирует репозиторий, делает локальные коммиты в `main` по своей задаче и периодически пушит их в GitLab
- [ ] Каждый разработчик клонирует репозиторий, создаёт отдельную ветку под свою задачу, коммитит изменения в этой ветке и пушит её в GitLab; когда задача готова, сливает свою ветку в `main` напрямую

### Вопрос 4
Разработчик заметил, что в репозиторий попали файлы `__pycache__/utils.cpython-310.pyc`. Он добавил правило `*.pyc` в `.gitignore`, но `git status` всё ещё показывает эти файлы как отслеживаемые. Почему `.pyc` файлы продолжают попадать под контроль версий?

- [ ] Правило работает только если `.gitignore` расположен в папке `__pycache__`
- [ ] Они были закоммичены до добавления правила в `.gitignore`
- [ ] `git status` игнорирует изменения правил `.gitignore`
- [ ] `.gitignore` не поддерживает маски по расширению

### Вопрос 5
Разработчик начинает работу над новой фичей `feature/payments` и хочет создать ветку, сразу переключившись на неё. Какая команда Git создаёт новую ветку и сразу переключает рабочее дерево на неё? Напиши одну возможную команду.

**Ответ:**

_________________________________


### Вопрос 6
Клиентская форма отправляет запрос `POST /api/users/123` для обновления email пользователя, а сервер позиционируется как REST. Какое поведение наиболее корректно ожидать?

- [ ] Сервер обязательно вернёт 405 Method Not Allowed для такого запроса
- [ ] Сервер может ответить, но это нарушает REST: обновление следует выполнять через PUT или PATCH
- [ ] Сервер автоматически преобразует запрос в PUT перед обработкой
- [ ] POST подходит для любой операции, сервер просто выполнит обновление записи

### Вопрос 7
Во время пикового трафика API отвечает кодом `503` на запросы `GET /api/orders`. Разработчик должен правильно интерпретировать этот статус-код и организовать обработку ошибки. Что означает этот код и как правильно обработать ситуацию?

- [ ] Запрос обработан успешно; можно продолжать работу с полученными данными
- [ ] Ошибка на стороне сервера; сервер временно недоступен, нужно повторить запрос позже или обработать ошибку в коде
- [ ] Ошибка на стороне клиента; нужно исправить запрос и повторить его
- [ ] Ресурс не найден; нужно проверить корректность URL

### Вопрос 8
Разработчик проектирует REST API для библиотеки. Нужно получить данные о книге с идентификатором `42`. Какой HTTP-метод и URL соответствуют принципам REST?

- [ ] GET `/api/books/42` — использовать GET для получения ресурса по его идентификатору в пути
- [ ] POST `/api/books/get` с телом `{"id": 42}` — использовать POST для получения данных
- [ ] PUT `/api/books/42` — использовать PUT для получения данных
- [ ] GET `/api/books?id=42` — использовать GET с идентификатором в query-параметре

### Вопрос 9
Команда проектирует REST API для управления задачами. Какие принципы REST помогут сделать API предсказуемым и удобным для интеграции? Отметь все подходящие варианты.

- [ ] Каждый запрос должен содержать всю необходимую информацию, сервер не хранит состояние клиента
- [ ] Хранить состояние сессии пользователя на сервере между запросами
- [ ] Ответы сервера должны содержать информацию о возможности кеширования
- [ ] Использовать стандартные HTTP-методы (GET, POST, PUT, DELETE) для операций над ресурсами

### Вопрос 10
Клиент на Python делает запрос `requests.get(url, timeout=5)`, но сервер зависает и не отвечает. Что произойдёт по истечении таймаута?

- [ ] Выбросится исключение `requests.Timeout`
- [ ] Запрос продолжит ждать ответа
- [ ] Функция вернёт `None` без исключений
- [ ] Запрос автоматически повторится

### Вопрос 11
После `requests.post(url, json=data)` сервер возвращает статус 200, но при вызове `response.json()` возникает `JSONDecodeError`. Что может быть причиной? Отметь все подходящие варианты.

- [ ] Библиотека `requests` не поддерживает JSON
- [ ] Сервер вернул HTML или другой формат вместо JSON
- [ ] JSON содержит синтаксическую ошибку
- [ ] Тело ответа пустое

### Вопрос 12
Разработчик хочет передать параметры `q=python` и `limit=10` в GET-запросе при использовании библиотеки `requests`. Как правильно организовать процесс формирования запроса?

- [ ] Использовать параметр `json`: `requests.get("https://api.example.com/search", json={"q": "python", "limit": 10})`
- [ ] Вручную сформировать URL: `requests.get("https://api.example.com/search?q=python&limit=10")`
- [ ] Использовать параметр `data`: `requests.get("https://api.example.com/search", data={"q": "python", "limit": 10})`
- [ ] Использовать параметр `params`: `requests.get("https://api.example.com/search", params={"q": "python", "limit": 10})`

### Вопрос 13
API вернул ответ `{"user": {"name": "Иван", "contacts": {"email": "ivan@example.com"}}}`, и данные преобразованы в словарь `data`. Как извлечь email из структуры? Напиши корректное выражение.

**Ответ:**

_________________________________


### Вопрос 14
Приложение должно повторять запрос при таймауте, но завершать программу при других сетевых ошибках. Какой фрагмент кода соответствует этому требованию?

- [ ] ```python try:     response = requests.get(url, timeout=5) except requests.Timeout:     response = requests.get(url, timeout=5) except requests.RequestException:     print("Ошибка запроса")     exit(1) ```
- [ ] ```python response = requests.get(url, timeout=5) if response.status_code != 200:     exit(1) ```
- [ ] ```python try:     response = requests.get(url, timeout=5) except requests.Timeout:     response = requests.get(url, timeout=5) except requests.RequestException as e:     print(f"Ошибка запроса: {e}")     exit(1) ```

### Вопрос 15
После рефакторинга модулей разработчик получил `ImportError: cannot import name 'send_mail' from 'notifications'`, хотя функция определена в `notifications`. Какие причины встречаются чаще всего? Отметь все подходящие варианты.

- [ ] Функция `send_mail` содержит синтаксическую ошибку
- [ ] Появился циклический импорт, из-за чего модуль `notifications` не успевает загрузиться полностью
- [ ] Функция определена ниже импорта внутри `notifications`, поэтому Python её «не видит»
- [ ] Модуль `notifications` находится в другой директории и не найден при импорте

### Вопрос 16
В проекте каталоги `api`, `services`, `repositories` разделены по ответственности. В чём основная польза такого деления для поддержки и разработки проекта?

- [ ] Python требует модульной структуры для запуска программ, без неё код не выполнится
- [ ] Изменения в одном модуле минимально влияют на другие, что упрощает тестирование и поддержку
- [ ] Модули автоматически оптимизируются компилятором Python для ускорения выполнения
- [ ] Модули уменьшают объём используемой памяти при выполнении программы

### Вопрос 17
В проекте есть модули `database.py`, `api_client.py` и `main.py`. `database.py` использует функции `api_client`, а `main.py` работает и с базой, и с API. Какие способы организации импортов помогут избежать лишних зависимостей? Отметь все подходящие варианты.

- [ ] В `main.py` импортировать только `database`, так как тот уже тянет `api_client`
- [ ] В `database.py` импортировать `api_client`, а в `main.py` импортировать оба модуля
- [ ] Импортировать все модули в `main.py`, чтобы избежать проблем с зависимостями
- [ ] Вынести общие зависимости в `config.py`

### Вопрос 18
Проект поддерживается в модульной структуре. Какие преимущества даёт модульный подход для разработки и поддержки проекта? Отметь все подходящие варианты.

- [ ] Упрощает добавление нового функционала без риска сломать существующий код
- [ ] Упрощает поиск и исправление ошибок благодаря изоляции модулей
- [ ] Ускоряет выполнение программы за счёт оптимизации компилятором
- [ ] Упрощает тестирование отдельных компонентов без необходимости поднимать всю систему

### Вопрос 19
При запуске бота Telegram возвращает ответ `{"ok": false, "error_code": 401, "description": "Unauthorized"}`. Токен недавно был сброшен в BotFather. Как будет вести себя бот с таким токеном?

- [ ] Telegram будет отклонять все вызовы и бот перестанет отвечать пользователям
- [ ] Сможет отвечать только администратору, а остальные получат отказ
- [ ] Бот перейдёт в тестовый режим с урезанным функционалом
- [ ] Telegram автоматически выдаст новый токен при следующем запросе

### Вопрос 20
После создания объекта бота на библиотеке `telebot` и регистрации обработчиков какой метод нужно вызвать, чтобы бот начал получать и обрабатывать сообщения от пользователей?

**Ответ:**

_________________________________


### Вопрос 21
Обработчик `/start` реализован, но бот не реагирует в чате. Какие действия стоит выполнить?

- [ ] Перезапустить клиент Telegram пользователя
- [ ] Проверить, что бот запущен, токен валиден и хендлер зарегистрирован
- [ ] Переименовать команду `/start`
- [ ] Увеличить таймаут HTTP-запросов к Telegram

### Вопрос 22
Пользователь нажимает inline-кнопку «Подтвердить заказ». Что происходит на сервере бота после нажатия?

- [ ] Telegram передаёт боту callback-запрос с `callback_data`, и зарегистрированный хендлер должен обработать событие
- [ ] Telegram отправляет обычное текстовое сообщение с текстом кнопки в чат
- [ ] Telegram автоматически обрабатывает нажатие и отправляет пользователю предустановленное сообщение
- [ ] Telegram игнорирует нажатие, если обработчик не зарегистрирован

