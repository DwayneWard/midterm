# Теоретическая часть контрольной работы
## Вариант 6

**Дисциплина:** Разработка на Python. Основной

**Фамилия, Имя:** _________________________________

---

### Вопрос 1
Разработчик работает над фичей в ветке `feature/inventory`, пока в `main` появились новые коммиты. Нужно синхронизировать ветку с актуальной версией `main` и сохранить линейную историю для упрощения ревью. Как правильно организовать процесс синхронизации?

- [ ] Выполнить `git pull` в ветке `feature/inventory`, чтобы автоматически объединить изменения через merge-коммит
- [ ] Выполнить `git merge origin/main` в ветке `feature/inventory`, чтобы создать merge-коммит без предварительного fetch
- [ ] Выполнить `git fetch`, остаться в `feature/inventory` и выполнить `git rebase origin/main`, чтобы переписать коммиты поверх актуальной истории `main`
- [ ] Выполнить `git fetch`, переключиться в `main`, сделать `git pull`, затем вернуться в `feature/inventory` и выполнить `git merge main`

### Вопрос 2
Разработчик начинает работу над новой фичей `feature/analytics` и хочет создать ветку, сразу переключившись на неё. Какая команда Git создаёт новую ветку и сразу переключает рабочее дерево на неё? Напиши одну возможную команду.

**Ответ:**

_________________________________


### Вопрос 3
Разработчик обнаружил, что в репозиторий попал файл `config.local.py` с локальными настройками. Нужно удалить файл из отслеживания Git и предотвратить его повторное попадание в репозиторий. Как правильно организовать процесс?

- [ ] Удалить файл из рабочей директории командой `rm config.local.py`, перезапустить Git
- [ ] Удалить файл из индекса командой `git rm --cached config.local.py`, добавить `config.local.py` в `.gitignore`, закоммитить изменения
- [ ] Выполнить `git reset --hard HEAD~1`, чтобы откатить последний коммит с файлом
- [ ] Переместить файл в другую директорию, чтобы Git перестал его отслеживать

### Вопрос 4
Перед публикацией Merge Request разработчик проверяет историю коммитов. Какой подход к организации коммитов лучше всего помогает ревьюеру быстро понять изменения?

- [ ] Коммиты без сообщений, но с хорошим кодом и подробным описанием в README
- [ ] Один большой коммит со всеми изменениями и подробным описанием в комментарии к MR
- [ ] Все изменения в одном коммите с сообщением «обновления»
- [ ] Серия осмысленных коммитов с понятными сообщениями, каждое описывает отдельную логическую часть изменений

### Вопрос 5
Бэкенд отвечает кодом `201 Created` с заголовком `Location`, когда создан новый ресурс. Что должен сделать клиент для правильной обработки ответа?

- [ ] Прервать выполнение, так как ресурс уже создан
- [ ] Повторять POST-запрос бесконечно, чтобы убедиться, что ресурс создан
- [ ] Сразу считать операцию завершённой без дополнительных действий
- [ ] Использовать URL из заголовка `Location` для получения или обновления созданного ресурса

### Вопрос 7
Разработчик проектирует REST API для управления профилями пользователей. Нужно обновить только поле телефона в профиле по идентификатору пользователя. Какой метод и маршрут соответствуют принципам REST?

- [ ] POST `/api/users/phone` с телом `{"id": 123, "phone": "+7..."}` — использовать POST для обновления
- [ ] PUT `/api/users/{id}` с телом, содержащим только поле phone — использовать PUT для частичного обновления
- [ ] PATCH `/api/users/{id}` с телом `{"phone": "+7..."}` — использовать PATCH для частичного обновления ресурса
- [ ] GET `/api/users/{id}` с телом запроса — использовать GET для обновления

### Вопрос 8
Разработчик тестирует API в Postman и получает `400 Bad Request` на POST-запрос. Нужно понять причину ошибки и правильно организовать процесс диагностики. Какие шаги помогут выявить проблему? Отметь все подходящие варианты.

- [ ] Проверить правильность типов данных для каждого поля
- [ ] Проверить корректность формата JSON в теле запроса
- [ ] Проверить корректность URL и параметров пути запроса
- [ ] Убедиться, что все обязательные поля присутствуют в теле запроса

### Вопрос 10
Разработчик тестирует API в Postman и получает `401 Unauthorized` на запрос к защищённому эндпоинту. Нужно понять причину ошибки и правильно организовать процесс диагностики. Что нужно проверить в первую очередь? Отметь все подходящие варианты.

- [ ] Корректность формата JSON в теле запроса
- [ ] Наличие заголовка `Authorization` в запросе
- [ ] Корректность токена или ключа авторизации
- [ ] Срок действия токена, если он ограничен

### Вопрос 11
Как отправить POST-запрос с JSON-телом и авторизационным токеном, используя `requests`?

**Ответ:**

_________________________________


### Вопрос 12
Запрос через `requests` периодически падает с `requests.ConnectionError`. Нужно правильно организовать процесс обработки ошибок соединения. Какие шаги помогут устойчиво обработать ситуацию? Отметь все подходящие варианты.

- [ ] Обернуть запрос в try/except и вернуть значение по умолчанию (например, пустой список) при ошибке соединения
- [ ] Добавить повторные попытки с задержкой между попытками для временных проблем с сетью
- [ ] Обработать ошибку и завершать выполнение с понятным сообщением для пользователя
- [ ] Изменить URL запроса на другой эндпоинт, чтобы обойти ошибку соединения

### Вопрос 13
API вернул:
```json
{"data": {"items": [{"sku": "A1", "qty": 2}, {"sku": "B2", "qty": 5}]}}
```
Как получить количество товара со SKU `B2` из словаря `data`?

**Ответ:**

_________________________________


### Вопрос 14
Разработчик тестирует API в Postman и получает `500 Internal Server Error` на запрос к сервису. Нужно правильно интерпретировать этот статус-код и организовать процесс диагностики. Что означает этот код и какие гипотезы стоит проверить? Отметь все подходящие варианты.

- [ ] Ошибка на стороне сервера; проверить логи сервера на наличие исключений и ошибок выполнения
- [ ] Ошибка на стороне клиента; нужно исправить формат запроса и повторить его
- [ ] Ошибка на стороне сервера; проверить корректность тела запроса и заголовков, которые могли вызвать ошибку на сервере
- [ ] Ошибка на стороне сервера; проверить наличие временных ограничений или таймаутов, которые могли привести к ошибке

### Вопрос 15
После рефакторинга `services.py` и `models.py` импортируют друг друга. Какие шаги помогут разорвать цикл? Отметь все подходящие варианты.

- [ ] Использовать абсолютные импорты вместо относительных, чтобы изменить порядок загрузки модулей
- [ ] Переместить все импорты в конец файлов, чтобы модули загружались после определения всех функций
- [ ] Вынести общие типы в новый модуль, чтобы разорвать цикл зависимостей
- [ ] Перенести локальные импорты внутрь функций, чтобы отложить загрузку модулей

### Вопрос 16
Модуль назвали `json.py`, из-за чего стандартная библиотека `json` перестала корректно работать. Что сделать?

- [ ] Переименовать свой модуль чтобы избежать конфликта с системным модулем
- [ ] Переместить локальный модуль в подпапку и использовать абсолютный импорт для стандартного модуля
- [ ] Использовать alias при импорте стандартного модуля: `import json as std_json`
- [ ] Использовать относительный импорт для локального модуля: `from . import json`

### Вопрос 17
Крупный сервис разделён на пакеты `api`, `domain`, `storage`. Почему такое разделение полезно для разработки и поддержки проекта? Отметь все подходящие варианты.

- [ ] Уменьшает связанность между компонентами и улучшает читаемость кода
- [ ] Упрощает тестирование отдельных слоёв без необходимости поднимать всю систему
- [ ] Упрощает процесс развёртывания, так как можно обновлять отдельные пакеты независимо
- [ ] Ускоряет процесс разработки за счёт параллельной работы над разными пакетами

### Вопрос 18
В проекте есть структура `project/logic/core.py` и `project/utils/helpers.py`. Нужно импортировать функцию `get_data` из `helpers.py` в файл `core.py`. Какой способ импорта соответствует абсолютному импорту?

- [ ] `from ..utils.helpers import get_data`
- [ ] `from helpers import get_data`
- [ ] `import get_data`
- [ ] `from utils.helpers import get_data`

### Вопрос 19
Бот отвечает на команды, но не реагирует на текст. Какие проверки сделаешь? Отметь все подходящие варианты.

- [ ] Нет ли исключений внутри обработчика
- [ ] Запущен ли бот
- [ ] Корректно ли указан токен бота
- [ ] Зарегистрирован ли обработчик для текстовых сообщений

### Вопрос 20
Код бота вырос до нескольких сотен строк. Как разделить ответственность по файлам? Отметь все подходящие варианты.

- [ ] `handlers/commands.py` — команды, `handlers/messages.py` — текст, `services/external.py` — интеграции
- [ ] `bot.py` — команды и текст, `external.py` — интеграции и хранилище
- [ ] Конфигурацию и токены вынести в `settings.py`

### Вопрос 21
Нужно добавить пользователю выбор «Да/Нет» в одном сообщении. Как создать меню из двух кнопок «Да» и «Нет»?

- [ ] Использовать один обработчик с проверкой `message.text in ['Да', 'Нет']`
- [ ] Создать два отдельных обработчика для текстовых сообщений «Да» и «Нет»
- [ ] Использовать `ReplyKeyboardMarkup` и добавить кнопки
- [ ] Использовать `InlineKeyboardMarkup` и добавить кнопки

### Вопрос 22
Как выбрать структуру `callback_data`, чтобы в обработчике было понятно, о каком заказе идёт речь? Отметь все подходящие идеи.

- [ ] Использовать JSON с полями, если данные короткие
- [ ] Хардкодить ID в хендлере
- [ ] Кодировать идентификатор заказа в строке, например `order:123`
- [ ] Передавать пустую строку и хранить всё в глобальной переменной

