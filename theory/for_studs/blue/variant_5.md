# Теоретическая часть контрольной работы
## Вариант 5

**Дисциплина:** Разработка на Python. Основной

**Фамилия, Имя:** _________________________________

---

### Вопрос 1
Ты ведёшь ветку `feature/invoices`, а коллеги уже влили пару фиксов в `main`. Нужно синхронизировать ветку с актуальной версией `main` и сохранить линейную историю для упрощения ревью. Как правильно организовать процесс синхронизации?

- [ ] Выполнить `git pull --rebase origin main` в ветке `feature/invoices`, чтобы подтянуть изменения из `main` и переписать твои коммиты поверх них
- [ ] Выполнить `git fetch`, переключиться в `main`, сделать `git pull`, затем вернуться в `feature/invoices` и выполнить `git merge main`
- [ ] Выполнить `git pull` в ветке `feature/invoices`, чтобы автоматически объединить изменения через merge-коммит
- [ ] Выполнить `git merge origin/main` в ветке `feature/invoices`, чтобы создать merge-коммит без предварительного fetch

### Вопрос 2
Разработчик хочет проверить, кто последний правил файл `src/main.py` и когда это было. Какой командой вывести историю изменений по этому файлу?

**Ответ:**

_________________________________


### Вопрос 3
Перед слиянием ты решил проверить, совпадает ли твоя ветка `feature/report` с удалённой `origin/feature/report`. Нужно понять текущее состояние синхронизации. Что покажет `git status`, если всё хорошо?

- [ ] `Your branch is ahead ...`
- [ ] `no branch`
- [ ] `Your branch is behind ...`
- [ ] `Your branch is up to date with 'origin/feature/report'.`

### Вопрос 4
Во время code review ты увидел лишний файл `logs/debug.log` в MR. Нужно убрать файл из отслеживания Git и предотвратить его повторное попадание в репозиторий. Как правильно организовать процесс?

- [ ] Удалить файл из индекса командой `git rm --cached logs/debug.log`, добавить `logs/debug.log` в `.gitignore`, закоммитить изменения
- [ ] Выполнить `git reset --hard HEAD~1`, чтобы откатить последний коммит с файлом
- [ ] Удалить файл из рабочей директории командой `rm logs/debug.log`, перезапустить Git
- [ ] Использовать `git stash` для временного сохранения файла, затем `git clean` для удаления

### Вопрос 5
Какой командой ты создаёшь ветку `experiment/api` без переключения на неё?

**Ответ:**

_________________________________


### Вопрос 6
Ты нашёл ошибку в коммите, который уже отправлен в удалённый репозиторий, но MR ещё не принят. Нужно исправить ошибку, не нарушая процесс ревью. Как правильно организовать процесс исправления?

- [ ] Переписать историю через `git push --force` без согласования с командой
- [ ] Сделать новый коммит с фиксом и отправить его в ту же ветку, чтобы изменения появились в MR
- [ ] Оставить как есть и исправить в следующем коммите после merge
- [ ] Удалить ветку и создать новую с исправленным кодом

### Вопрос 7
В GitLab появился новый проект для команды, которая подключится через неделю. Нужно оформить README так, чтобы коллеги быстро включились в работу. Какие разделы помогут достичь этой цели? Отметь все подходящие варианты.

- [ ] Ссылка на релевантную документацию или API
- [ ] Подробное описание внутренней архитектуры и всех технических деталей реализации без инструкций по запуску
- [ ] Описание назначения проекта и основные команды запуска
- [ ] Инструкции по настройке окружения и установке зависимостей

### Вопрос 8
Фронтенд сделал `GET /api/v1/orders`, сервер ответил статус-кодом 200, но в теле ответа пустой массив `[]`. Нужно правильно интерпретировать этот результат. Что это означает?

- [ ] Запрос выполнен успешно, просто в системе нет заказов — пустой массив это валидный результат
- [ ] Сервер сломался и не смог обработать запрос — это было бы 500
- [ ] Ошибка на стороне клиента — это было бы 4xx
- [ ] Запрос неверный, нужно использовать POST вместо GET — это было бы 405

### Вопрос 9
Разработчик тестирует API в Postman и получает `401 Unauthorized` на запрос к защищённому эндпоинту. Нужно понять причину ошибки и правильно организовать процесс диагностики. Что нужно проверить в первую очередь? Отметь все подходящие варианты.

- [ ] Корректность формата JSON в теле запроса
- [ ] Корректность токена или ключа авторизации
- [ ] Наличие заголовка `Authorization` в запросе
- [ ] Срок действия токена, если он ограничен

### Вопрос 10
Разработчик проектирует REST API для управления пользователями. Нужно обновить e-mail пользователя по его идентификатору. Какой метод и путь соответствуют принципам REST?

- [ ] PUT `/api/users/{user_id}/email` с телом `{"email": "new@example.com"}` — использовать PUT для обновления поля
- [ ] PATCH `/api/users/{user_id}` с телом `{"email": "new@example.com"}` — использовать PATCH для частичного обновления
- [ ] GET `/api/users/email` с телом запроса — использовать GET для обновления
- [ ] POST `/api/users/email/update` с телом `{"user_id": 123, "email": "new@example.com"}` — использовать POST для обновления

### Вопрос 11
Разработчик изучает структуру HTTP-ответа. Какие части входят в стандартный HTTP-ответ? Отметь все подходящие варианты.

- [ ] Заголовки ответа
- [ ] HTTP-метод запроса
- [ ] Тело ответа (если нужно)
- [ ] Стартовая строка со статус-кодом

### Вопрос 13
Разработчик отправляет `requests.post(url, data=form)`, но сервер возвращает ошибку, потому что ожидает JSON. Нужно исправить код так, чтобы данные передавались в формате JSON. Как правильно организовать процесс исправления?

- [ ] Использовать `requests.get(url, json=form)`
- [ ] Использовать `requests.post(url, headers=form)`
- [ ] Использовать `requests.post(url, json=form)`
- [ ] Использовать `requests.post(url, data=form, headers={"Content-Type": "application/json"})`

### Вопрос 14
API вернул JSON:
```json
{"data": [{"id": 1, "name": "Basic"}, {"id": 2, "name": "Pro"}]}
```
Как получить `name` второго тарифа из словаря `payload`?

**Ответ:**

_________________________________


### Вопрос 15
После реорганизации модулей `services.py` и `models.py` начали импортировать друг друга, появилась ошибка `ImportError`. Какие шаги помогут устранить циклические импорты? Отметь все подходящие варианты.

- [ ] Вынести общие типы или функции в отдельный модуль, чтобы разорвать цикл зависимостей
- [ ] Использовать абсолютные импорты вместо относительных, чтобы изменить порядок загрузки модулей
- [ ] Переместить импорты внутрь функций, чтобы отложить загрузку модулей до момента их использования
- [ ] Переместить все импорты в конец файлов, чтобы модули загружались после определения всех функций

### Вопрос 16
Проект разбит на пакеты `api`, `domain`, `infra`. Какие преимущества даёт такое разделение для разработки и поддержки проекта? Отметь все подходящие варианты.

- [ ] Помогает избегать конфликтов имён между модулями из разных областей ответственности
- [ ] Упрощает тестирование отдельных слоёв без поднятия всей системы
- [ ] Ускоряет процесс разработки за счёт параллельной работы над разными пакетами
- [ ] Разделяет ответственность между компонентами и упрощает поддержку проекта

### Вопрос 17
В проекте появился модуль `random.py`, и теперь стандартный модуль `random` работает не так. Как исправить ситуацию?

- [ ] Использовать относительный импорт для локального модуля: `from . import random`
- [ ] Переименовать свой модуль, чтобы не совпадал с системным модулем
- [ ] Переместить локальный модуль в подпапку и использовать абсолютный импорт для стандартного модуля
- [ ] Использовать alias при импорте стандартного модуля: `import random as std_random`

### Вопрос 18
Какие шаги нужно выполнить в BotFather для регистрации бота? Отметь все подходящие варианты.

- [ ] Активировать токен
- [ ] Получить токен
- [ ] Команда `/newbot`
- [ ] Указать имя и username

### Вопрос 19
Бот перестал отвечать на `/help`, но реагирует на остальные команды. Какие причины проверишь? Отметь все подходящие варианты.

- [ ] Не падает ли хендлер из-за исключения
- [ ] Зарегистрирован ли обработчик команды
- [ ] Запущен ли бот через `bot.polling()`
- [ ] Корректен ли токен

### Вопрос 20
Код бота разрастается. Как распределить модули? Отметь все подходящие варианты.

- [ ] `handlers/commands.py` — команды
- [ ] `bot.py` — команды и текст, `external.py` — интеграции и хранилище
- [ ] `handlers/messages.py` — текстовые сообщения
- [ ] `services/api_client.py` — интеграции

### Вопрос 21
Пользователь нажал inline-кнопку "Получить чек". Как на стороне бота определить, какую операцию запустить?

- [ ] Прочитать `call.data` из параметра `call` в `@bot.callback_query_handler` и распарсить нужный идентификатор
- [ ] Передать идентификатор чека через параметр `message.text` и обработать в обработчике текстовых сообщений
- [ ] Сохранить идентификатор чека в глобальной переменной и обработать нажатие в `@bot.message_handler()`
- [ ] Использовать `ReplyKeyboardMarkup` и обработать выбор через `@bot.message_handler()`

### Вопрос 22
Нужно построить сценарий «опрос → подтверждение → результат». Как хранить прогресс пользователя?

- [ ] Использовать словарь `state[user_id] = текущий_шаг` для отслеживания шага каждого пользователя
- [ ] Использовать временные переменные внутри обработчика без сохранения между запросами
- [ ] Хранить состояние только в `callback_data` без дополнительного хранилища
- [ ] Смотреть на историю сообщений и анализировать их порядок

