# Теоретическая часть контрольной работы
## Вариант 4

**Дисциплина:** Разработка на Python. Основной

**Фамилия, Имя:** _________________________________

---

### Вопрос 1
Перед релизом ты сравниваешь ветку `feature/billing` с `main` и замечаешь, что твоя ветка отстаёт на три коммита. Нужно синхронизировать ветку с актуальной версией `main` и сохранить линейную историю для упрощения ревью. Как правильно организовать процесс синхронизации?

- [ ] Выполнить `git fetch`, остаться в `feature/billing` и выполнить `git rebase origin/main`, чтобы переписать коммиты поверх актуальной истории `main`
- [ ] Выполнить `git pull` в ветке `feature/billing`, чтобы автоматически объединить изменения через merge-коммит
- [ ] Выполнить `git fetch`, переключиться в `main`, сделать `git pull`, затем вернуться в `feature/billing` и выполнить `git merge main`
- [ ] Выполнить `git merge origin/main` в ветке `feature/billing`, чтобы создать merge-коммит без предварительного fetch

### Вопрос 2
Разработчик начинает работу над новой фичей `feature/reports` и хочет создать ветку, сразу переключившись на неё. Какая команда Git создаёт новую ветку и сразу переключает рабочее дерево на неё? Напиши одну возможную команду.

**Ответ:**

_________________________________


### Вопрос 3
Разработчик хочет проверить, кто последний правил файл `README.md` и когда это было. Какой командой вывести историю изменений по этому файлу?

**Ответ:**

_________________________________


### Вопрос 4
Команда переезжает на SSH для работы с GitLab. Разработчик настраивает доступ к репозиторию по SSH с нового ноутбука. Как правильно организовать процесс настройки SSH-доступа?

- [ ] Сгенерировать пару ключей командой `ssh-keygen`, сохранить оба ключа в файл `.ssh/config`, проверить соединение командой `ssh -T git@gitlab.com`
- [ ] Сгенерировать пару ключей командой `ssh-keygen`, скопировать приватный ключ в профиль GitLab, проверить соединение командой `ssh -T git@gitlab.com`
- [ ] Сгенерировать пару ключей командой `ssh-keygen`, добавить приватный ключ в профиль GitLab, проверить соединение командой `git push`
- [ ] Сгенерировать пару ключей командой `ssh-keygen`, добавить публичный ключ в профиль GitLab, убедиться что ключ загружен в `ssh-agent`, проверить соединение командой `ssh -T git@gitlab.com`

### Вопрос 5
Ты создаёшь новый локальный Git репозиторий. Какие шаги помогут подготовить основную структуру? Отметь все подходящие варианты.

- [ ] Создать `.gitignore` под используемые инструменты
- [ ] `git init`
- [ ] Добавить `README.md` с описанием
- [ ] Создать файлы и папки проекта до того, как сделать первый коммит

### Вопрос 6
При `git push` ты получил ошибку `non-fast-forward`. Нужно понять причину и правильно организовать процесс синхронизации. Что это значит и как поступить?

- [ ] Нужно сменить имя ветки; переименовать локальную ветку и повторить push
- [ ] Репозиторий повреждён; пересоздать репозиторий заново
- [ ] GitLab отключил доступ; проверить настройки SSH-ключей или токенов в профиле
- [ ] Удалённая ветка содержит новые коммиты; выполнить `git pull` или `git fetch` с последующим merge/rebase, разрешить конфликты и повторить push

### Вопрос 7
Разработчик проектирует REST-эндпоинт для создания заявки. При успешном создании ресурса нужно отправить корректный статус-код. Какой статус-код соответствует успешному созданию нового ресурса?

- [ ] 200
- [ ] 201
- [ ] 204
- [ ] 500

### Вопрос 8
Система мониторинга жалуется на частые `400 Bad Request` при `POST /api/payments`. Нужно понять причину ошибки и правильно организовать процесс диагностики. Какие гипотезы проверишь в первую очередь? Отметь все подходящие варианты.

- [ ] Убедиться, что заголовок `Content-Type` установлен правильно (например, `application/json`)
- [ ] Проверить корректность формата JSON в теле запроса и наличие всех обязательных полей
- [ ] Проверить корректность URL и параметров пути запроса
- [ ] Проверить правильность типов данных для каждого поля в теле запроса

### Вопрос 9
Разработчик проектирует REST API для управления заказами. Нужно получить данные о конкретном заказе по его идентификатору. Какой URI и метод соответствуют принципам REST?

- [ ] POST `/api/orders/get` с телом `{"id": order_id}` — использовать POST для получения данных
- [ ] GET `/api/orders/{order_id}` — использовать GET для получения ресурса по идентификатору в пути
- [ ] GET `/api/orders/get?id={order_id}` — использовать GET с идентификатором в query-параметре
- [ ] PUT `/api/orders/{order_id}` — использовать PUT для получения данных

### Вопрос 10
Разработчик изучает структуру HTTP-запроса. Какие элементы обязательно присутствуют в HTTP-запросе? Отметь все подходящие варианты.

- [ ] Стартовая строка с методом и путём
- [ ] Тело запроса (если нужно, например для POST)
- [ ] Заголовки (минимум Host)
- [ ] Статус-код ответа

### Вопрос 11
Разработчик тестирует API в Postman и получает `503 Service Unavailable` на запрос к сервису. Нужно правильно интерпретировать этот статус-код и организовать обработку ошибки. Что означает этот код и как правильно обработать ситуацию?

- [ ] Ошибка на стороне сервера; сервер сломан и требует немедленного исправления разработчиками API — клиент должен прекратить отправку запросов
- [ ] Ошибка на стороне клиента; нужно исправить формат запроса и повторить его немедленно
- [ ] Ошибка на стороне сервера; сервер временно недоступен, перегружен или на техническом обслуживании — нужно повторить запрос позже или обработать ошибку в коде
- [ ] Ошибка на стороне сервера; сервер временно недоступен, но это нормальная ситуация — можно игнорировать ошибку и продолжать работу

### Вопрос 12
Сервис аналитики требует авторизованный запрос, чтобы получить вторую страницу отчёта. Сформируй запрос с помощью `requests`, который передаст `page=2` и заголовок `Authorization: Bearer TOKEN`.

**Ответ:**

_________________________________


### Вопрос 13
Разработчик использует `requests.get` и ожидает получить JSON, но при вызове `response.json()` возникает `JSONDecodeError`. Нужно правильно обработать эту ситуацию. Какие действия помогут диагностировать и исправить проблему? Отметь все подходящие варианты.

- [ ] Обернуть парсинг в try/except и показать понятное сообщение пользователю
- [ ] Проверить заголовок `Content-Type` ответа, чтобы убедиться, что сервер вернул JSON
- [ ] Игнорировать ошибку и продолжить выполнение программы

### Вопрос 14
Ты отправляешь POST-запрос: `requests.post(url, json={"name": "Anna"})`. Как получить текст ответа и статус-код? Напиши выражение.

**Ответ:**

_________________________________


### Вопрос 15
API вернул:
```json
{"user": {"profile": {"emails": ["work@example.com", "home@example.com"]}}}
```
Как получить значение `"home@example.com"` из словаря `data`?

**Ответ:**

_________________________________


### Вопрос 16
После рефакторинга `utils.py` и `api.py` начали импортировать друг друга. Чем опасны такие циклы?

- [ ] Модули загрузятся дважды, что приведёт к дублированию кода в памяти, но программа продолжит работу
- [ ] Python автоматически обнаружит цикл и загрузит модули в правильном порядке, поэтому опасности нет
- [ ] Код выполнится, но функции будут вызываться в неправильном порядке из-за особенностей загрузки модулей
- [ ] Модули могут загрузиться частично и вызывать `ImportError` при попытке использовать функции из неполностью загруженного модуля

### Вопрос 17
В проекте есть файл `email.py`, а нужно использовать стандартный модуль `email`. Какие способы помогут избежать конфликтов имён модулей? Отметь все подходящие варианты.

- [ ] Переместить локальный модуль в подпапку и использовать абсолютный импорт для стандартного модуля с alias: `import email as std_email`
- [ ] Использовать alias при импорте стандартного модуля без перемещения локального файла: `import email as std_email`
- [ ] Использовать относительный импорт для локального модуля: `from . import email`
- [ ] Переименовать свой файл, чтобы не совпадал с системным модулем

### Вопрос 18
Какие действия нужно выполнить в BotFather для создания Telegram-бота? Отметь все подходящие варианты.

- [ ] Придумать имя и username
- [ ] Выбрать режим запуска в настройках телеграм бота
- [ ] Получить токен
- [ ] /newbot

### Вопрос 19
Бот должен отвечать на команды `/start` и `/help`, а также реагировать на произвольный текст. Какие обработчики нужно зарегистрировать?

- [ ] Один обработчик с условиями внутри функции для всех типов сообщений
- [ ] Зарегистрировать три разных обработчика - сначала для команд `/start` и `/help`, затем для текста
- [ ] Зарегистрировать обработчики - сначала для текста, затем для команд
- [ ] Обработчик только на `/help` и общий обработчик для остальных сообщений, `/start` обрабатывается по умолчанию

### Вопрос 20
Пользователь вводит одно и то же сообщение много раз, а бот должен предлагать заготовленные варианты. Какие интерфейсы Telegram помогут?

- [ ] Достаточно только команд
- [ ] Reply-клавиатура для часто используемых действий
- [ ] Стандартный текстовый ввод без дополнительных элементов
- [ ] Inline-кнопки для контекстных ответов

### Вопрос 21
Пользователь нажал inline-кнопку «Продлить подписку». Как обработать событие на стороне бота?

- [ ] Использовать `ReplyKeyboardMarkup` и обработать выбор через `@bot.message_handler()`
- [ ] Сохранить идентификатор подписки в глобальной переменной и обработать нажатие в `@bot.message_handler()`
- [ ] Передать идентификатор подписки через параметр `message.text` и обработать в обработчике текстовых сообщений
- [ ] Получить `callback_query` и прочитать `callback_data` через `@bot.callback_query_handler`

### Вопрос 22
Нужно построить многошаговый сценарий: выбрать услугу → указать дату → подтвердить. Как сохранять состояние пользователя?

- [ ] Использовать временные переменные внутри обработчика без сохранения между запросами
- [ ] Смотреть на историю сообщений и анализировать их порядок
- [ ] Хранить состояние только в `callback_data` без дополнительного хранилища
- [ ] Держать словарь `state[chat_id] = step` для отслеживания шага каждого пользователя

