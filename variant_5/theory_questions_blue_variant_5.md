# Теоретическая часть контрольной работы. Вариант 5
## Разработка на Python. Основной

### Вопрос 1
Ты ведёшь ветку `feature/invoices`, а коллеги уже влили пару фиксов в `main`. Что сделает `git pull --rebase origin main`, если ты запускаешь команду из своей ветки?

А) Удалит локальные коммиты и синхронизирует ветку с `main`  
Б) Подтянет изменения из `main` и перепишет твои коммиты поверх них  
В) Создаст merge-коммит между ветками  
Г) Остановит операцию из-за конфликта

**Правильный ответ:** Б

**Проверяемый ОР:** Понимает. - Как структурировать процесс разработки с помощью Git: зачем нужны ветки, почему важна история коммитов и как правильно использовать rebase для упорядочивания истории изменений (*).

### Вопрос 2
Ты хочешь посмотреть, какие файлы изменились в последних двух коммитах. Какую команду используешь?

**Правильный ответ:** `git diff HEAD~2..HEAD` (принимаются варианты с `--name-only`)

**Проверяемый ОР:** Знает. - Основные команды Git - инициализация, коммиты, создание веток, слияние, rebase(*) и базовые понятия работы с удалёнными репозиториями.

### Вопрос 3
Перед слиянием ты решил проверить, совпадает ли твоя ветка `feature/report` с удалённой `origin/feature/report`. Что покажет `git status`, если всё синхронизировано?

А) `Your branch is ahead ...`  
Б) `Your branch is up to date with 'origin/feature/report'.`  
В) `Your branch is behind ...`  
Г) `no branch`

**Правильный ответ:** Б

**Проверяемый ОР:** Знает. - Процесс работы в GitLab, MR, назначения SSH-ключей/токенов для доступа к проекту.

### Вопрос 4
Во время code review ты увидел лишний файл `logs/debug.log` в MR. Какие действия предпримешь, чтобы убрать файл и защититься от повторных случаев? Отметь все подходящие варианты.

А) `git rm --cached logs/debug.log`  
Б) Добавить правило в `.gitignore`  
В) Удалить репозиторий  
Г) Разместить файл в `README`

**Правильные ответы:** А, Б

**Проверяемый ОР:** Понимает. - Как структурировать процесс разработки с помощью Git: зачем нужны ветки, почему важна история коммитов и как правильно использовать rebase для упорядочивания истории изменений (*).

### Вопрос 5
Коллега не может `git push` по HTTPS из-за требований компании использовать токены. Зачем нужен персональный токен?

А) Чтобы не передавать пароль и гибко ограничивать права доступа  
Б) Чтобы ускорить сборку CI  
В) Чтобы убрать проверку кода  
Г) Чтобы автоматически создавать merge-коммиты

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Почему использование SSH/токенов обеспечивает безопасность при работе с удалёнными репозиториями.

### Вопрос 6
Какой командой ты создаёшь ветку `experiment/api` без переключения на неё?

**Правильный ответ:** `git branch experiment/api`

**Проверяемый ОР:** Знает. - Основные команды Git - инициализация, коммиты, создание веток, слияние, rebase(*) и базовые понятия работы с удалёнными репозиториями.

### Вопрос 7
Ты нашёл ошибку в коммите, который уже отправлен в удалённый репозиторий, но MR ещё не принят. Как безопасно исправить коммит?

А) Сделать новый коммит с фиксом и отправить его  
Б) Переписать историю через `git push --force` без согласования  
В) Удалить ветку  
Г) Оставить как есть

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Роль GitLab как платформы для совместной работы, хранения и ревью кода.

### Вопрос 8
В GitLab появился новый проект. Что ты добавишь в стартовый README? Отметь все подходящие варианты.

А) Описание назначения проекта  
Б) Инструкции по запуску  
В) Требования к окружению  
Г) Личный трекер задач

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Понимает. - Роль GitLab как платформы для совместной работы, хранения и ревью кода.

### Вопрос 9
Фронтенд сделал `GET /api/v1/orders`, сервер ответил 200, но в теле пустой массив. Как интерпретировать результат?

А) Запрос выполнен успешно, просто нет заказов  
Б) Сервер сломался  
В) Запрос неверный, нужен POST  
Г) Ошибка клиента

**Правильный ответ:** А

**Проверяемый ОР:** Знает. - Основные методы HTTP (GET, POST, PUT, DELETE) и значение статус-кодов в коммуникации клиент-сервер.

### Вопрос 10
Во время интеграции внешнего сервиса ты получаешь `401 Unauthorized`. Что проверить в первую очередь? Отметь все подходящие варианты.

А) Корректность токена/ключа  
Б) Наличие заголовка авторизации  
В) Срок действия токена  
Г) Размер тела запроса

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.

### Вопрос 11
Какой метод и путь логичны для обновления e-mail пользователя?

А) PUT `/api/users/{user_id}/email`  
Б) GET `/api/users/email`  
В) POST `/api/users/email/update`  
Г) DELETE `/api/users/{user_id}`

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Почему выбор конкретного HTTP-метода соответствует определённой операции.

### Вопрос 12
Какие части входят в стандартный HTTP-ответ? Отметь все подходящие варианты.

А) Стартовая строка со статусом  
Б) Заголовки  
В) Тело (если нужно)  
Г) Команда Git

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Знает. - Различия между запросом к серверу и ответом, а также структуру типичного REST-запроса и ответа.

### Вопрос 13
Ты проектируешь REST API. Какие практики помогут держать контракт стабильным? Отметь все подходящие варианты.

А) Версионировать эндпоинты  
Б) Использовать понятные статусы и описания ошибок  
В) Документировать запросы и ответы  
Г) Запрещать любые изменения

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Понимает. - Как REST API стандартизирует структуру URL, методы HTTP, заголовки, тело запроса и ответа, облегчая интеграцию различных систем.

### Вопрос 14
Тебе нужно проверить, что API корректно обрабатывает отсутствие параметра. Как сформировать запрос в Postman?

А) Убрать параметр из Query или Body и посмотреть на статус  
Б) Перейти на другой метод  
В) Изменить токен  
Г) Перезагрузить ноутбук

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Как REST API стандартизирует структуру URL, методы HTTP, заголовки, тело запроса и ответа, облегчая интеграцию различных систем.

### Вопрос 15
Скрипт отправляет `requests.post(url, data=form)`, но сервер ждёт JSON. Как исправить код?

А) `requests.post(url, json=form)`  
Б) `requests.get(url, json=form)`  
В) `requests.post(url, headers=form)`  
Г) `requests.delete(url)`

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Как правильно формировать GET и POST запросы, передавать параметры и обрабатывать ошибки.

### Вопрос 16
Тебе нужно добавить задержку между повторными запросами при таймауте. Приведи пример кода.

**Правильный ответ:**
```python
for attempt in range(3):
    try:
        response = requests.get(url, timeout=2)
        break
    except requests.Timeout:
        time.sleep(1)
```
(принимаются аналогичные фрагменты с задержкой и ограничением попыток)

**Проверяемый ОР:** Понимает. - Логику обработки ошибок при запросах и как корректная обработка может предотвратить сбои в работе приложения.

### Вопрос 17
API вернул JSON:
```json
{"data": [{"id": 1, "name": "Basic"}, {"id": 2, "name": "Pro"}]}
```
Как получить `name` второго тарифа из словаря `payload`?

**Правильный ответ:** `payload["data"][1]["name"]`

**Проверяемый ОР:** Понимает. - Почему JSON является предпочтительным форматом обмена данными в веб-разработке, и как вложенные структуры JSON отображаются в Python.

### Вопрос 18
Какие преимущества даёт хранение конфигурации в JSON по сравнению с произвольным текстом? Отметь все подходящие варианты.

А) Структурированность и валидируемость  
Б) Лёгкий парсинг стандартными библиотеками  
В) Возможность вложенных объектов  
Г) Автоматическое шифрование

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Знает. - Формат JSON: парсинг, сериализация, вложенные структуры.

### Вопрос 19
Как сериализовать объект с полем `datetime` в JSON для API?

А) Перед записью преобразовать дату в строку  
Б) Использовать `json.dumps(obj, default=str)`  
В) Исключить поле из JSON  
Г) Оставить как есть, JSON поймёт

**Правильные ответы:** А, Б

**Проверяемый ОР:** Понимает. - Методы сериализации и парсинга JSON в объекты Python.

### Вопрос 20
Ты хочешь централизованно обрабатывать ошибки `requests` и выводить сообщение. Приведи пример кода с `raise_for_status`.

**Правильный ответ:**
```python
try:
    response = requests.get(url, timeout=5)
    response.raise_for_status()
except requests.RequestException as exc:
    print(f"Ошибка запроса: {exc}")
    exit(1)
```
(принимаются аналогичные конструкции)

**Проверяемый ОР:** Понимает. - Логику обработки ошибок при запросах и как корректная обработка может предотвратить сбои в работе приложения.

### Вопрос 21
После реорганизации модулей ты сталкиваешься с ошибкой `ImportError: cannot import name`. Какие шаги помогут проверить циклические импорты? Отметь все подходящие варианты.

А) Проанализировать граф зависимостей и вынести общие функции в отдельный модуль  
Б) Переместить импорты внутрь функций  
В) Удалить случайный модуль  
Г) Переименовать переменные

**Правильные ответы:** А, Б

**Проверяемый ОР:** Понимает. - Как возникновение циклических импортов влияет на выполнение программы и как их избежать посредством правильного проектирования.

### Вопрос 22
Когда стоит разбивать проект на пакеты `api`, `domain`, `infra`? Отметь все подходящие причины.

А) Нужно разделить ответственность и упростить поддержку  
Б) Хочется быстрее писать код  
В) Нужно облегчить тестирование отдельных слоёв  
Г) Требуется избегать конфликтов имён

**Правильные ответы:** А, В, Г

**Проверяемый ОР:** Знает. - Что такое модульность и как разделение кода на логические блоки способствует его поддержке и тестированию.

### Вопрос 23
В проекте появился модуль `random.py`, и теперь стандартный модуль `random` работает не так. Как исправить ситуацию?

А) Переименовать свой модуль  
Б) Удалить стандартный модуль  
В) Запускать Python с флагом `-X`  
Г) Добавить README

**Правильный ответ:** А

**Проверяемый ОР:** Знает. - Проблемы, связанные с конфликтами имён при импорте и циклическими зависимостями между модулями.

### Вопрос 24
На ревью интеграций обсуждают, почему стоит разводить бизнес-логику и код, который обращается к внешним сервисам. Назови три преимущества такого разделения. Напиши через запятую.

**Правильный ответ:** «проще тестировать, легче переиспользовать, можно менять интеграции без переписывания логики» (принимаются близкие формулировки)

**Проверяемый ОР:** Понимает. - Роль ясного разделения логики приложения для обеспечения масштабируемости и облегчения поддержки проекта.

### Вопрос 25
Ты регистрируешь бота в BotFather. Какие шаги обязательны?

А) Команда `/newbot`  
Б) Указать имя и username  
В) Получить токен  
Г) Запросить approve у администратора чата

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Знает. - Как создать Telegram-бота через BotFather и получить токен для работы.

### Вопрос 26
Ты подключил библиотеку `python-telegram-bot`. Что нужно сделать, чтобы бот начал получать апдейты?

А) Создать `Application` и вызвать `run_polling()`  
Б) Открыть Telegram Web  
В) Отправить сообщение самому себе  
Г) Запустить `git pull`

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Как Telegram Bot API обеспечивает связь между пользователем и сервером, и почему важно правильно настроить обработку команд.

### Вопрос 27
Бот перестал отвечать на `/help`. Какие причины проверишь? Отметь все подходящие варианты.

А) Зарегистрирован ли обработчик команды  
Б) Не падает ли хендлер из-за исключения  
В) Корректен ли токен  
Г) Пользователь перезапустил приложение

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Понимает. - Как Telegram Bot API обеспечивает связь между пользователем и сервером, и почему важно правильно настроить обработку команд.

### Вопрос 28
Код бота разрастается. Как разумно распределить модули? Отметь все подходящие варианты.

А) `handlers/commands.py` — команды  
Б) `handlers/messages.py` — текстовые сообщения  
В) `services/api_client.py` — интеграции  
Г) Всё держать в `main.py`

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Понимает. - Роль библиотек, упрощающих интеграцию с Telegram, и как они структурируют работу бота.

### Вопрос 29
Пользователю нужно выбирать действия без ввода текста. Что использовать?

А) Inline-клавиатуру  
Б) Reply-клавиатуру  
В) Стикеры  
Г) Эмодзи в сообщении

**Правильные ответы:** А, Б

**Проверяемый ОР:** Знает. - Что такое inline-кнопки и клавиатуры в Telegram-ботах и для чего они используются.

### Вопрос 30
Пользователь нажал inline-кнопку "Получить чек". Как на стороне бота определить, какую операцию запустить?

А) Прочитать `callback_query.data` и распарсить нужный идентификатор  
Б) Ждать новое сообщение  
В) Запросить у BotFather подсказку  
Г) Выполнить команду по умолчанию

**Правильный ответ:** А

**Проверяемый ОР:** Понимает. - Логику обработки callback-запросов для реализации многошаговых сценариев диалога, в том числе управление состоянием бота.

### Вопрос 31
Ты строишь сценарий «опрос → подтверждение → результат». Как хранить прогресс пользователя?

**Правильный ответ:** Использовать словарь или хранилище `state[user_id] = текущий_шаг` (принимаются варианты с базой или контекстом)

**Проверяемый ОР:** Понимает. - Логику обработки callback-запросов для реализации многошаговых сценариев диалога, в том числе управление состоянием бота.

### Вопрос 32
Почему inline-кнопки улучшают UX бота? Отметь все подходящие варианты.

А) Снижают количество опечаток  
Б) Ускоряют выбор действий  
В) Позволяют передавать структурированные данные  
Г) Исключают необходимость в токене

**Правильные ответы:** А, Б, В

**Проверяемый ОР:** Понимает. - Как интерактивные элементы (inline-кнопки, клавиатуры) улучшают пользовательский опыт, делая взаимодействие с ботом более динамичным.

### Вопрос 33
API должен вернуть ошибку, если платёж не прошёл. Какую структуру ответа ты отправишь? Напиши три ключа.

**Правильный ответ:** `code, message, details` (принимаются эквиваленты: `status`, `error`, `info`)

**Проверяемый ОР:** Понимает. - Важность корректного использования статус-кодов для обработки ошибок и успешных операций.

### Вопрос 34
Назови три причины, почему стоит документировать HTTP-эндпоинты. Напиши через запятую.

**Правильный ответ:** «проще поддерживать контракт, легче подключать новых разработчиков, быстрее находить расхождения» (принимаются близкие формулировки)

**Проверяемый ОР:** Понимает. - Как REST API стандартизирует структуру URL, методы HTTP, заголовки, тело запроса и ответа, облегчая интеграцию различных систем.

